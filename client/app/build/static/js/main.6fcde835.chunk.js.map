{"version":3,"sources":["component/RSS/FindRSS.module.css","component/SideTab/FunctionTab.module.css","css/Article.module.css","component/RSS/RSSPage.module.css","component/SideTab/FolderTab.module.css","component/RSS/RSSHeader.module.css","component/RSS/RSSBoard.module.css","css/SignUp.module.css","component/Header/Header.module.css","component/Graph/Graph.module.css","css/Card.module.css","component/RSS/RSSCard.module.css","firebase.js","component/Article/MD.jsx","lib/lib.js","component/Article/Aritcle.jsx","component/AddArticle.jsx","config.js","component/Member/Signup.jsx","component/Member/Signin.jsx","component/Card.jsx","component/CardWrapper.jsx","redux/actions/index.js","component/Board.jsx","component/MyRouter.jsx","component/RSS/RSSFolder.jsx","component/RSS/RSSTab.jsx","component/SideTab/Folder.jsx","component/SideTab/FolderTab.jsx","lib/gragh_lib.js","component/Graph/Graph1.jsx","hooks/useD3.js","component/RSS/RSSCard.jsx","component/RSS/RSSPage.jsx","component/RSS/RSSBoard.jsx","component/RSS/FindRSS.jsx","component/RSS/RSSExplore.jsx","img/logo.png","component/SideTab/FunctionTab.jsx","component/App.jsx","reportWebVitals.js","redux/reducers/article_Reducer.jsx","redux/reducers/member_Reducer.jsx","redux/reducers/RSS_Reducer.jsx","redux/reducers/index.js","index.js"],"names":["module","exports","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","converter","Showdown","tables","simplifiedAutoLink","strikethrough","tasklists","MD","props","useState","content","value","setValue","useEffect","selectedTab","setSelectedTab","className","onChange","e","id","markDown","collection","doc","update","then","console","log","onTabChange","generateMarkdownPreview","markdown","Promise","resolve","makeHtml","uid","reject","get","a","data","articleFolderIds","articleFolders","i","push","name","tags","folderId","tagIds","folderTags","label","articleId","articleTags","tagId","memberTags","initArticleTags","articleTagSelection","getArticleTags","values","getMemberTags","options","checkTagUnderUser","inputTag","tagName","add","articles","docRef","FieldValue","arrayUnion","set","catch","error","deleteTagFromArticle","arrayRemove","checkRSSInFetchList","url","where","snapshot","empty","forEach","addRSSToFetchList","feed","title","link","description","img","image","lastUpdate","lastBuildDate","checkUserHasUncaFolder","RSSFolders","includes","addRSSToMember","feedId","RSS","subscribedRSS","subscribeRSS","RSSId","addRSSItem","checkRSSItem","item","snapShot","titleList","itemTitle","items","evaluate","contentSnippet","creator","guid","isoDate","pubDate","author","getMemberRSSFolders","RSSFolderIds","RSSIds","getRSSInfo","getChannelFeeds","getFeedContent","tilte","getAllUserFeeds","Article","setTags","article","setArticle","search","useLocation","URLSearchParams","user","useSelector","state","memberReducer","onSnapshot","styles","head","to","style","color","tagWrapper","isMulti","newValue","actionMeta","action","option","removedValue","group","dir","groupEnd","onCreateOption","inputValue","defaultValue","AddArticle","reqUrl","setReqUrl","type","currentTarget","onClick","preventDefault","fetch","method","headers","body","JSON","stringify","response","status","json","err","postDataToServer","Signup","uiConfig","callbacks","signInSuccess","authResult","redirectUrl","email","displaynamename","displayName","history","code","errorMessage","message","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","useHistory","setName","setEmail","password","setPassword","wrapper","block","form","onSubmit","createUserWithEmailAndPassword","currentUser","updateProfile","firebaseSignUp","inputbox","htmlFor","firebaseAuth","login","signInWithEmailAndPassword","errorCode","firebaseSignIn","Card","elem","document","createElement","innerHTML","htmlContent","src","querySelector","container","delete","card","alt","wordWrapper","CardWrapper","list","articleList","articleReducer","tagSelected","INITARTICLE","SWITCHARTICLE","tag","GETRSSRESPONSE","SWITCHRSS","ChannelRSSId","Board","dispatch","useDispatch","querySnapshot","slice","readerHtml","MyRouter","onAuthStateChanged","RSSFolder","RSSList","length","TreeItem","nodeId","labelWrapper","fontSize","labelTitle","showRSSItem","folderRSS","useStyles","makeStyles","root","flexGrow","maxWidth","marginBottom","RSSTab","classes","setRSSFolders","userRSSList","RSSReducer","UserRSSList","folder","articleFolderList","folders","RSSFolderList","showRSSFolders","folderTabWrapper","folderTab","sectionTitle","TreeView","defaultExpanded","defaultCollapseIcon","defaultExpandIcon","subTitle","Folder","tabs","setTabs","getMemberFolderTags","tabList","showTabTreeList","FolderTab","editFolder","setEditFolder","setArticleFolders","getMemberArticleFolders","showArticleFolders","createPortal","popup","blur","addFolder","getGraphData","initGraphData","nodes","links","Graph","setData","ref","renderChartFn","dependencies","React","useRef","current","d3","useD3","svg","map","d","Object","create","simulation","force","strength","distanceMax","width","height","append","attr","selectAll","join","Math","sqrt","node","call","on","event","active","alphaTarget","restart","subject","fx","x","fy","y","drag","circle","text","clone","lower","target","source","graphWrapper","marginRight","marginLeft","RSSCard","RSSPage","feedItem","setFeedItem","page","cursor","dangerouslySetInnerHTML","__html","allFeeds","setAllFeeds","channelFeeds","setChannelFeeds","lastVisible","setLastVisible","showPage","setShowPage","lastQueryDoc","setLastQueryDoc","allFeedsOutome","handleScroll","scrollTop","documentElement","scrollHeight","clientHeight","window","addEventListener","removeEventListener","orderBy","limit","docs","startAfter","batchFetchAllFeeds","fetchChannelFeed","feedItems","feedList","board","renderAllFeeds","renderChannelFeeds","feedPage","renderFeedPage","boardWrapper","onScroll","alert","FindRSS","addArticle","class","addTitle","addForm","RSSParser","parseURL","entry","input","searchFeed","searchFeedUrl","searchOutcome","subscribe_btn","renderSearchFeed","FunctionTab","functionTabWrapper","functionTab","logoWrapper","logo","iconWrapper","calssName","exit","signOut","App","path","component","Signin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","article_Reducer","member_Reducer","RSS_Reducer","userAllFeeds","allReducers","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6fcde835.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"addArticle\":\"FindRSS_addArticle__3_qks\",\"addTitle\":\"FindRSS_addTitle__1wsn0\",\"addForm\":\"FindRSS_addForm__3Z4Ot\",\"input\":\"FindRSS_input__jhFPD\",\"add\":\"FindRSS_add__1MrI6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"functionTabWrapper\":\"FunctionTab_functionTabWrapper__2E3ar\",\"functionTab\":\"FunctionTab_functionTab__3iiBL\",\"logoWrapper\":\"FunctionTab_logoWrapper__FNK68\",\"iconWrapper\":\"FunctionTab_iconWrapper__2Wipq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Article_title__1Mrw9\",\"head\":\"Article_head__31GUo\",\"tagWrapper\":\"Article_tagWrapper__VZfHf\",\"tag\":\"Article_tag__3LVVi\",\"addTag\":\"Article_addTag__1oXdm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"RSSPage_page__3Q9XS\",\"title\":\"RSSPage_title__2XScQ\",\"head\":\"RSSPage_head__1VR8a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"folderTabWrapper\":\"FolderTab_folderTabWrapper__2niIu\",\"folderTab\":\"FolderTab_folderTab__16C6M\",\"sectionTitle\":\"FolderTab_sectionTitle__2NdNu\",\"labelWrapper\":\"FolderTab_labelWrapper__1781X\",\"labelTitle\":\"FolderTab_labelTitle__uK57g\",\"subTitle\":\"FolderTab_subTitle__2XqZN\",\"popup\":\"FolderTab_popup__1FOmD\",\"popUpSlide\":\"FolderTab_popUpSlide__2e-fK\",\"blur\":\"FolderTab_blur__qVu-f\",\"addFolder\":\"FolderTab_addFolder__23fRR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signOut\":\"RSSHeader_signOut__2rqQG\",\"header\":\"RSSHeader_header__3_tX0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"boardWrapper\":\"RSSBoard_boardWrapper__16EX2\",\"board\":\"RSSBoard_board__38Rna\",\"title\":\"RSSBoard_title__15GhO\",\"content\":\"RSSBoard_content__3Q0dv\",\"subscribe_btn\":\"RSSBoard_subscribe_btn__1ZnMQ\",\"popup\":\"RSSBoard_popup__2ssSi\",\"popUpSlide\":\"RSSBoard_popUpSlide__35Eo7\",\"blur\":\"RSSBoard_blur__3-EVn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SignUp_wrapper__2d3J1\",\"block\":\"SignUp_block__1ink9\",\"title\":\"SignUp_title__3MK8E\",\"form\":\"SignUp_form__3fw2S\",\"inputbox\":\"SignUp_inputbox__2Lfhs\",\"login\":\"SignUp_login__2Tq4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signOut\":\"Header_signOut__3E39S\",\"header\":\"Header_header__3CDt1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"graphWrapper\":\"Graph_graphWrapper__3X3DP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Card_container__2vSb6\",\"card\":\"Card_card__3C6Cc\",\"color\":\"Card_color__3S4k1\",\"img\":\"Card_img__3vgPn\",\"title\":\"Card_title__HprCG\",\"content\":\"Card_content__3Nr22\",\"wordWrapper\":\"Card_wordWrapper__1vPtQ\",\"delete\":\"Card_delete__25V8_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RSSCard_container__1w-D7\",\"card\":\"RSSCard_card__39rjh\",\"color\":\"RSSCard_color__29tbN\",\"img\":\"RSSCard_img__3Fgy6\",\"title\":\"RSSCard_title__2lXv2\",\"content\":\"RSSCard_content__1mFFX\",\"wordWrapper\":\"RSSCard_wordWrapper__3HcZP\",\"creator\":\"RSSCard_creator__3NYCD\",\"delete\":\"RSSCard_delete__23NFO\"};","import firebase from \"firebase/app\";\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\nimport \"firebase/analytics\";\nimport { useHistory } from \"react-router-dom\";\n// Add the Firebase products that you want to use\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nvar app = firebase.initializeApp({\n  apiKey: \"AIzaSyA4cFmihlY5pIDTssbGwk9YNfGEjRfEBh4\",\n  authDomain: \"knowledge-base-tw.firebaseapp.com\",\n  databaseURL: \"https://knowledge-base-tw.firebaseio.com\",\n  projectId: \"knowledge-base-tw\",\n  storageBucket: \"knowledge-base-tw.appspot.com\",\n  messagingSenderId: \"786102856750\",\n  appId: \"1:786102856750:web:6bf12efd1fefb24aca83bf\",\n  measurementId: \"G-RBNFGWQ2WE\",\n});\nexport const auth = app.auth();\nexport default app;\nexport var db = firebase.firestore();\n\nexport const deleteArticle = function (id) {\n  console.log(id);\n  db.collection(\"Articles\")\n    .doc(id)\n    .delete()\n    .then(console.log(\"Document successfully deleted!\"))\n    .catch(function (error) {\n      console.error(\"Error delete document: \", error);\n    });\n};\n\n//============================== Auth ============================================================\n\nexport function CheckFirebaseUserStatus(direct, getUserData) {\n  let history = useHistory();\n  firebase.auth().onAuthStateChanged((user) => {\n    if (user) {\n      console.log(user);\n      if (getUserData) {\n        getUserData({\n          uid: user.uid,\n          email: user.email,\n          displayname: user.displayname,\n          providerData: user.providerData,\n        });\n      }\n    } else {\n      console.log(\"no user, redirect to sign up\");\n      history.push(direct);\n    }\n  });\n}\n","import React, { useState, useEffect } from \"react\";\nimport ReactMde from \"react-mde\";\nimport * as Showdown from \"showdown\";\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\nimport { db } from \"../../firebase\";\nimport \"../../css/App.css\";\nconst converter = new Showdown.Converter({\n  tables: true,\n  simplifiedAutoLink: true,\n  strikethrough: true,\n  tasklists: true,\n});\nfunction updateArticles(id, markDown) {\n  db.collection(\"Articles\")\n    .doc(id)\n    .update({\n      markDown: markDown,\n    })\n    .then(console.log(\"change article\"));\n}\n\nexport default function MD(props) {\n  const [value, setValue] = useState(props.content);\n  useEffect(() => {\n    setValue(props.content);\n  }, [props.content]);\n  const [selectedTab, setSelectedTab] = useState(\"preview\");\n  return (\n    <div className=\"container\">\n      <ReactMde\n        value={value}\n        onChange={(e) => {\n          setValue(e);\n          updateArticles(props.id, e);\n        }}\n        selectedTab={selectedTab}\n        onTabChange={setSelectedTab}\n        generateMarkdownPreview={(markdown) =>\n          Promise.resolve(converter.makeHtml(markdown))\n        }\n      />\n    </div>\n  );\n}\n","import { resolve } from \"path\";\nimport firebase from \"firebase/app\";\nimport { db, FieldValue } from \"../firebase.js\";\n\nexport const app = {};\napp.getMemberArticleFolders = function (uid) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then(async (doc) => {\n        if (doc.data()) {\n          let articleFolderIds = doc.data().articleFolders;\n          let articleFolders = [];\n          console.log(articleFolderIds);\n          if (articleFolderIds !== \"\" && articleFolderIds) {\n            for (let i in articleFolderIds) {\n              console.log(articleFolderIds[i]);\n              await db\n                .collection(\"articleFolders\")\n                .doc(articleFolderIds[i])\n                .get()\n                .then((doc) => {\n                  articleFolders.push({\n                    id: doc.data().id,\n                    name: doc.data().name,\n                    tags: doc.data().tags,\n                  });\n                });\n            }\n          }\n          resolve(articleFolders);\n        } else resolve(\"dont have this user\");\n      });\n  });\n};\napp.getMemberFolderTags = function (folderId) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"articleFolders\")\n      .doc(folderId)\n      .get()\n      .then(async (doc) => {\n        if (doc.data()) {\n          let tagIds = doc.data().tags;\n          let folderTags = [];\n          console.log(tagIds);\n          if (tagIds !== \"\" && tagIds) {\n            for (let i in tagIds) {\n              console.log(tagIds[i]);\n              await db\n                .collection(\"Tags\")\n                .doc(tagIds[i])\n                .get()\n                .then((doc) => {\n                  folderTags.push({\n                    id: tagIds[i],\n                    value: doc.data().name,\n                    label: doc.data().name,\n                  });\n                });\n            }\n          }\n          resolve(folderTags);\n        } else resolve(\"\");\n      });\n  });\n};\n\napp.getArticleTags = function (articleId) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"Articles\")\n      .doc(articleId)\n      .get()\n      .then((doc) => {\n        let tags = doc.data().tags;\n\n        let articleTags = [];\n        if (tags) {\n          for (let i in tags) {\n            db.collection(\"Tags\")\n              .doc(tags[i])\n              .get()\n              .then((doc) => {\n                console.log(doc.data());\n                articleTags.push({\n                  tagId: tags[i],\n                  label: doc.data().name,\n                  value: doc.data().name,\n                });\n              });\n            resolve(articleTags);\n          }\n        } else {\n          resolve(\"\");\n        }\n      });\n  });\n};\n\napp.getMemberTags = function (uid) {\n  return new Promise((resolve, reject) => {\n    console.log(uid);\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then(async (doc) => {\n        console.log(doc.data());\n        if (doc.data()) {\n          let tagIds = doc.data().tags;\n          let memberTags = [];\n          console.log(tagIds);\n          if (tagIds !== \"\" && tagIds) {\n            for (let i in tagIds) {\n              console.log(tagIds[i]);\n              await db\n                .collection(\"Tags\")\n                .doc(tagIds[i])\n                .get()\n                .then((doc) => {\n                  memberTags.push({\n                    id: tagIds[i],\n                    value: doc.data().name,\n                    label: doc.data().name,\n                  });\n                });\n            }\n          }\n          console.log(memberTags);\n          console.log(\"1\");\n          resolve(memberTags);\n        } else resolve(\"\");\n      });\n  });\n};\n\napp.initArticleTags = async function (articleId, uid) {\n  let articleTagSelection = {};\n  await app.getArticleTags(articleId).then((articleTags) => {\n    articleTagSelection.values = articleTags;\n  });\n  await app.getMemberTags(uid).then((memberTags) => {\n    articleTagSelection.options = memberTags;\n  });\n  console.log(articleTagSelection);\n  return articleTagSelection;\n};\n\napp.checkTagUnderUser = function (name, uid) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then(async (doc) => {\n        console.log(uid);\n        if (doc.data()) {\n          let tags = doc.data().tags;\n          console.log(tags);\n          if (tags) {\n            for (let i in tags) {\n              await db\n                .collection(\"Tags\")\n                .doc(tags[i])\n                .get()\n                .then((doc) => {\n                  if (doc.data().name === name) {\n                    console.log(doc.data().name);\n                    console.log(\"resolve the id\");\n                    resolve(doc.data().id);\n                  }\n                });\n            }\n            resolve(\"notExist\");\n          } else {\n            resolve(\"noanytag\");\n          }\n        } else {\n          resolve(\"nothisuser\");\n        }\n      });\n  });\n};\napp.inputTag = function (articleId, uid, tagName) {\n  console.log(uid);\n  app.checkTagUnderUser(tagName, uid).then((tagId) => {\n    console.log(tagId);\n    if (tagId === \"noanytag\") {\n      db.collection(\"Tags\")\n        .add({\n          name: tagName,\n          articles: [articleId],\n        })\n        .then(function (docRef) {\n          console.log(\"Document written with ID: \", docRef.id);\n\n          docRef.update({ id: docRef.id });\n          return docRef.id;\n        })\n        .then((tagId) => {\n          db.collection(\"Articles\")\n            .doc(articleId)\n            .update({ tags: firebase.firestore.FieldValue.arrayUnion(tagId) });\n          return tagId;\n        })\n        .then((tagId) => {\n          db.collection(\"Member\")\n            .doc(uid)\n            .update({ tags: [tagId] });\n          return tagId;\n        })\n        .then((tagId) => {\n          db.collection(\"articleFolders\")\n            .doc(\"un\" + uid)\n            .set({\n              id: \"un\" + uid,\n              name: \"Uncategorized\",\n              tags: firebase.firestore.FieldValue.arrayUnion(tagId),\n            })\n            .then(() => {\n              db.collection(\"Member\")\n                .doc(uid)\n                .update({\n                  articleFolders: firebase.firestore.FieldValue.arrayUnion(\n                    \"un\" + uid\n                  ),\n                });\n            });\n        })\n        .catch(function (error) {\n          console.error(\"Error adding document: \", error);\n        });\n    } else if (tagId === \"notExist\") {\n      console.log(\"user dont have this tag, CREAT AND ADD to ARTICLE\");\n      db.collection(\"Tags\")\n        .add({\n          name: tagName,\n          articles: [articleId],\n        })\n        .then(function (docRef) {\n          console.log(\"Document written with ID: \", docRef.id);\n\n          docRef.update({ id: docRef.id });\n          return docRef.id;\n        })\n        .then((tagId) => {\n          db.collection(\"Articles\")\n            .doc(articleId)\n            .update({ tags: firebase.firestore.FieldValue.arrayUnion(tagId) });\n          return tagId;\n        })\n        .then((tagId) => {\n          db.collection(\"Member\")\n            .doc(uid)\n            .update({ tags: firebase.firestore.FieldValue.arrayUnion(tagId) });\n          return tagId;\n        })\n        .then((tagId) => {\n          console.log(\"tag add to :\", \"un\" + uid, \"value is\", tagId);\n          db.collection(\"articleFolders\")\n            .doc(\"un\" + uid)\n            .update({ tags: firebase.firestore.FieldValue.arrayUnion(tagId) });\n        })\n\n        .catch(function (error) {\n          console.error(\"Error adding document: \", error);\n        });\n    } else {\n      console.log(\"user already has this tag, ADD ATICLE\");\n      db.collection(\"Tags\")\n        .doc(tagId)\n        .update({\n          articles: firebase.firestore.FieldValue.arrayUnion(articleId),\n        });\n      db.collection(\"Articles\")\n        .doc(articleId)\n        .update({ tags: firebase.firestore.FieldValue.arrayUnion(tagId) });\n    }\n  });\n};\napp.deleteTagFromArticle = function (articleId, uid, tagId) {\n  db.collection(\"Articles\")\n    .doc(articleId)\n    .update({ tags: firebase.firestore.FieldValue.arrayRemove(tagId) });\n};\n\napp.checkRSSInFetchList = function (url) {\n  return new Promise((resolve, reject) => {\n    console.log(url);\n    db.collection(\"RSSFetchList\")\n      .where(\"url\", \"==\", url)\n      .get()\n      .then((snapshot) => {\n        if (snapshot.empty) {\n          console.log(\"not in fetch list\");\n          resolve(false);\n        } else {\n          snapshot.forEach((doc) => {\n            if (doc.data()) {\n              console.log(\"already id fetch list, the id is:\");\n              resolve(doc.data().id);\n            } else {\n              console.log(\"sth pretty weird happened\");\n            }\n          });\n        }\n      });\n  });\n};\napp.addRSSToFetchList = function (feed, url) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"RSSFetchList\")\n      .add({\n        title: feed.title || \"null\",\n        url: url || \"null\",\n        link: feed.link || \"null\",\n        description: feed.description || \"null\",\n        img: (feed.image || {}).url || \"null\",\n        lastUpdate: feed.lastBuildDate || \"null\",\n      })\n      .then((docRef) => {\n        docRef.update({ id: docRef.id });\n        return docRef.id;\n      })\n      .then((id) => resolve(id));\n  });\n};\napp.checkUserHasUncaFolder = function (uid) {\n  return new Promise((resolve, reject) => {\n    console.log(uid);\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then((doc) => {\n        if (doc.data().RSSFolders.includes(\"unCa_\" + uid)) {\n          resolve(true);\n        } else resolve(false);\n      });\n  });\n};\n\napp.addRSSToMember = function (uid, feedId) {\n  return new Promise(async (resolve, reject) => {\n    if (!(await app.checkUserHasUncaFolder(uid))) {\n      console.log(\"user dont have unCat folder, create and as RSS to it \");\n      db.collection(\"RSSFolders\")\n        .doc(\"unCa_\" + uid)\n        .set({\n          uid: uid,\n          name: \"Uncategorized\",\n          RSS: firebase.firestore.FieldValue.arrayUnion(feedId),\n          id: \"unCa_\" + uid,\n        })\n        .then((folderId) => {\n          db.collection(\"Member\")\n            .doc(uid)\n            .update({\n              subscribedRSS: firebase.firestore.FieldValue.arrayUnion(feedId),\n              RSSFolders: firebase.firestore.FieldValue.arrayUnion(\n                \"unCa_\" + uid\n              ),\n            })\n            .then(console.log(\"successfully add to user\"));\n        });\n    } else {\n      console.log(\"user already has unCat folder, as RSS to it \");\n      db.collection(\"RSSFolders\")\n        .doc(\"unCa_\" + uid)\n        .update({\n          RSS: firebase.firestore.FieldValue.arrayUnion(feedId),\n        })\n        .then((folderId) => {\n          db.collection(\"Member\")\n            .doc(uid)\n            .update({\n              subscribedRSS: firebase.firestore.FieldValue.arrayUnion(feedId),\n            })\n            .then(console.log(\"successfully add to user\"));\n        });\n    }\n  });\n};\n\napp.subscribeRSS = async function (uid, title, url, feed) {\n  console.log(\"add to \", uid, title, url);\n  app.checkRSSInFetchList(url).then((RSSId) => {\n    if (RSSId) {\n      console.log(\"RSS already in Fetch List\");\n      app.addRSSToMember(uid, RSSId);\n    } else {\n      console.log(\"Add RSS to fetch List\");\n      app.addRSSToFetchList(feed, url).then((RSSId) => {\n        console.log(\"add RSS to member\");\n        app.addRSSToMember(uid, RSSId);\n        console.log(\"Add feed to RSSItem\");\n        app.addRSSItem(feed, RSSId);\n      });\n    }\n  });\n};\napp.checkRSSItem = function (title, item) {\n  return db\n    .collection(\"RSSItem\")\n    .where(\"title\", \"==\", title)\n    .get()\n    .then((snapShot) => {\n      let titleList = [];\n      snapShot.forEach((doc) => {\n        titleList.push(doc.data().itemTitle);\n      });\n      console.log(titleList);\n      console.log(item.title);\n      console.log(titleList.includes(item.title));\n      if (titleList.includes(item.title)) {\n        console.log(\"already in db\");\n        return false;\n      } else console.log(\"check and not in db \");\n      return true;\n    });\n};\napp.addRSSItem = function (feed, RSSId) {\n  for (let i in feed.items) {\n    app.checkRSSItem(feed.title, feed.items[i]).then((evaluate) => {\n      console.log(evaluate);\n      if (evaluate) {\n        console.log(\"this feed not in db, let's save it \");\n        db.collection(\"RSSItem\")\n          .add({\n            RSSId: RSSId,\n            content: feed.items[i].content || \"null\",\n            contentSnippet: feed.items[i].contentSnippet || \"null\",\n            RSS: feed.title || \"null\",\n            title: feed.items[i].title || \"null\",\n            creator: feed.items[i].creator || \"null\",\n            guid: feed.items[i].guid || \"null\",\n            isoDate: feed.items[i].isoDate || \"null\",\n            link: feed.items[i].link || \"null\",\n            pubDate: feed.items[i].pubDate || \"null\",\n            author: feed.items[i].author || \"null\",\n          })\n          .then((docRef) => docRef.update({ id: docRef.id }))\n          .then(console.log(\"store successfully!\"));\n      } else {\n        console.log(\"already store this feed, let's skip\");\n      }\n    });\n  }\n};\napp.getMemberRSSFolders = function (uid) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then(async (doc) => {\n        if (doc.data()) {\n          let RSSFolderIds = doc.data().RSSFolders;\n          let RSSFolders = [];\n          console.log(RSSFolderIds);\n          if (RSSFolderIds !== \"\" && RSSFolderIds) {\n            for (let i in RSSFolderIds) {\n              console.log(RSSFolderIds[i]);\n              await db\n                .collection(\"RSSFolders\")\n                .doc(RSSFolderIds[i])\n                .get()\n                .then((doc) => {\n                  RSSFolders.push({\n                    id: doc.data().id,\n                    name: doc.data().name,\n                    RSSIds: doc.data().RSS,\n                    RSS: [],\n                  });\n                });\n            }\n          }\n          resolve(RSSFolders);\n        } else resolve(\"dont have this user\");\n      });\n  });\n};\napp.getRSSInfo = function (RSSId) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"RSSFetchList\")\n      .doc(RSSId)\n      .get()\n      .then(async (doc) => {\n        if (doc.data()) {\n          resolve({\n            id: doc.data().id,\n            title: doc.data().title,\n            url: doc.data().url,\n          });\n        }\n      });\n  });\n};\napp.getChannelFeeds = function (RSSId) {\n  return new Promise((resolve, reject) => {\n    let items = [];\n    db.collection(\"RSSItem\")\n      .where(\"RSSId\", \"==\", RSSId)\n      // .orderBy(\"isoDate\", \"desc\")\n      .get()\n      .then((snapShot) => {\n        snapShot.forEach((doc) => {\n          items.push({\n            RSSId: doc.data().RSSId,\n            content: doc.data().content,\n            contentSnippet: doc.data().contentSnippet,\n            RSS: doc.data().RSS,\n            title: doc.data().title,\n            creator: doc.data().creator,\n            guid: doc.data().guid,\n            isoDate: doc.data().isoDate,\n            link: doc.data().link,\n            pubDate: doc.data().pubDate,\n            author: doc.data().author,\n          });\n        });\n        resolve(items);\n      });\n  });\n};\napp.getFeedContent = function (feedId) {\n  return new Promise((resolve, reject) => {\n    db.collection(\"RSSItem\")\n      .doc(feedId)\n      .get()\n      .then((doc) => {\n        resolve({\n          RSSId: doc.data().RSSId,\n          content: doc.data().content,\n          contentSnippet: doc.data().contentSnippet,\n          RSS: doc.data().RSS,\n          title: doc.data().tilte,\n          creator: doc.data().creator,\n          guid: doc.data().guid,\n          isoDate: doc.data().isoDate,\n          link: doc.data().link,\n          pubDate: doc.data().pubDate,\n          author: doc.data().author,\n        });\n      });\n  });\n};\n\napp.getAllUserFeeds = function (uid) {};\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport MD from \"./MD\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { db, CheckFirebaseUserStatus } from \"../../firebase.js\";\nimport ArrowBack from \"@material-ui/icons/ArrowBack\";\nimport styles from \"../../css/Article.module.css\";\nimport { app } from \"../../lib/lib.js\";\n\nimport CreatableSelect from \"react-select/creatable\";\nimport { useSelector } from \"react-redux\";\n\nexport default function Article() {\n  let [tags, setTags] = useState({});\n  let [article, setArticle] = useState({});\n\n  const location = useLocation();\n  let search = location.search;\n  let params = new URLSearchParams(search);\n  let id = params.get(\"id\");\n  let user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  useEffect(() => {\n    if (user) {\n      console.log(\"useeffect run\");\n\n      app.initArticleTags(id, user.uid).then((articleTagSelection) => {\n        console.log(articleTagSelection);\n        setTags(articleTagSelection);\n      });\n    }\n  }, [user]);\n  function handleChange(newValue, actionMeta) {\n    switch (actionMeta.action) {\n      case \"select-option\":\n        console.log(\"select option!\");\n        app.inputTag(id, user.uid, actionMeta.option.label);\n        setTags({ ...tags, values: newValue });\n        break;\n      case \"remove-value\":\n        app.deleteTagFromArticle(id, user.uid, actionMeta.removedValue.tagId);\n        setTags({ ...tags, values: newValue });\n        break;\n      default:\n        console.group(\"Value Changed\");\n        console.log(\"newvalueis \", newValue);\n\n        console.dir(`action: ${actionMeta.action}`);\n        console.dir(actionMeta.removedValue);\n        console.groupEnd();\n    }\n  }\n\n  function handleCreate(inputValue) {\n    console.group(\"Option created\");\n\n    console.log(tags);\n    app.inputTag(id, user.uid, inputValue);\n    setTags({\n      options: [...tags.options, { label: inputValue, value: inputValue }],\n      values: [...tags.values, { label: inputValue, value: inputValue }],\n    });\n    console.log(tags);\n    console.groupEnd();\n  }\n  useEffect(() => {\n    function getArticles() {\n      db.collection(\"Articles\")\n        .doc(id)\n        .onSnapshot(function (doc) {\n          setArticle({\n            title: doc.data().title,\n            markDown: doc.data().markDown,\n          });\n        });\n    }\n    getArticles();\n  }, []);\n\n  return (\n    <div>\n      <div className={styles.head}>\n        <Link to={\"/board\"}>\n          <ArrowBack style={{ color: \"#FFFCEC\" }} />\n        </Link>\n      </div>\n      <div className={styles.title}>{article.title}</div>\n      <div className={styles.tagWrapper}>\n        <CreatableSelect\n          isMulti\n          onChange={handleChange}\n          onCreateOption={handleCreate}\n          options={tags.options}\n          defaultValue={tags.values}\n          value={tags.values}\n        />\n      </div>\n      <MD content={article.markDown} id={id} />\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { localUrl, ec2Url } from \"../config.js\";\nimport \"../css/AddArticle.css\";\n\nexport default function AddArticle(props) {\n  const [reqUrl, setReqUrl] = useState(\"\");\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  function postDataToServer(\n    url,\n    data = {\n      url: \"www.sylish.com\",\n      uid: \"12344\",\n    }\n  ) {\n    fetch(url, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        // 'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: JSON.stringify(data),\n    })\n      .then(function (response) {\n        if (response.status !== 200) {\n          console.log(\n            \"Looks like there was a problem. Status Code: \" + response.status\n          );\n          return;\n        }\n        response.json().then(function (data) {\n          console.log(data);\n        });\n      })\n      .catch(function (err) {\n        console.log(\"Fetch Error :-S\", err);\n      });\n  }\n  return (\n    <div className=\"addArticle\">\n      <input\n        type=\"text\"\n        name=\"input\"\n        className=\"input\"\n        value={reqUrl}\n        onChange={(e) => setReqUrl(e.currentTarget.value)}\n      />\n      <button\n        type=\"submit\"\n        className=\"add\"\n        onClick={(e) => {\n          if (user) {\n            e.preventDefault();\n            postDataToServer(localUrl, {\n              url: reqUrl,\n              uid: user.uid,\n            });\n          }\n        }}\n      >\n        儲存文章\n      </button>\n\n      <br />\n      {/* <a href=\"http://localhost:2000/route/article/before\">Before</a>\n      <br />\n      <a href=\"http://localhost:2000/route/article/after\">after</a>\n      <br />\n      <a href=\"http://localhost:2000/route/article/MD\">Mark Down</a> */}\n    </div>\n  );\n}\n","export const localUrl = \"http://localhost:3000/route/article/import\";\nexport const ec2Url = \"https://www.shopcard.site/route/article/import\";\n","import React, { useState } from \"react\";\nimport \"../../css/App.css\";\nimport styles from \"../../css/SignUp.module.css\";\nimport { Link } from \"react-router-dom\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { auth } from \"../../firebase.js\";\nimport firebase from \"firebase/app\";\nimport { useHistory } from \"react-router-dom\";\nimport { db } from \"../../firebase\";\nexport default function Signup() {\n  const uiConfig = {\n    callbacks: {\n      signInSuccess: async function (authResult, redirectUrl) {\n        console.log(authResult.uid);\n        console.log(redirectUrl);\n        await db\n          .collection(\"Member\")\n          .doc(authResult.uid)\n          .set({\n            uid: authResult.uid,\n            email: authResult.email,\n            displaynamename: authResult.displayName,\n          })\n\n          .then(() => console.log(\"Add user to db successfully\"))\n          .then(history.push(\"board\"))\n          .catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(errorMessage);\n          });\n      },\n    },\n    // Popup signin flow rather than redirect flow.\n    signInFlow: \"popup\",\n    // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n  };\n  const history = useHistory();\n  let [name, setName] = useState(\"\");\n  let [email, setEmail] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n  function firebaseSignUp(name, email, password) {\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((user) => {\n        console.log(user.user);\n        db.collection(\"Member\").doc(user.user.uid).set({\n          displaynamename: name,\n          email: email,\n          password: password,\n          uid: user.user.uid,\n        });\n      })\n      .then(() => {\n        var user = auth.currentUser;\n        user\n          .updateProfile({\n            displayName: name,\n          })\n          .then(() => console.log(\"update user name successfully\"));\n      })\n      .then(history.push(\"/board\"))\n      .catch((error) => {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorMessage);\n      });\n  }\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.block}>\n        <h2 className={styles.title}>Sign Up</h2>\n        <form\n          className={styles.form}\n          onSubmit={(e) => {\n            e.preventDefault();\n            firebaseSignUp(name, email, password);\n          }}\n        >\n          <div className={styles.inputbox}>\n            <label htmlFor=\"username\">User Name</label>\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={name}\n              onChange={(e) => {\n                setName(e.currentTarget.value);\n              }}\n            />\n          </div>\n          <div className={styles.inputbox}>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => {\n                setEmail(e.currentTarget.value);\n              }}\n            />\n          </div>\n          <div className={styles.inputbox}>\n            <label htmlFor=\"email\">Password</label>\n            <input\n              type=\"password\"\n              name=\"passowrd\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.currentTarget.value);\n              }}\n            />\n          </div>\n          <button>Sign Up</button>\n        </form>\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={auth} />\n        <div className={styles.login}>\n          <span>Already have an account? </span>\n          <Link to={\"/Signin\"}>Sign in</Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../../css/App.css\";\nimport styles from \"../../css/SignUp.module.css\";\nimport { Link } from \"react-router-dom\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport { uiConfig, auth } from \"../../firebase.js\";\nexport default function Signup() {\n  let [email, setEmail] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n  let history = useHistory();\n  function firebaseSignIn(email, password) {\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .then((user) => {\n        console.log(\"you click sign in and successfully\");\n        history.push(\"/board\");\n        // Signed in\n      })\n      .catch((error) => {\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        console.log(errorCode);\n        console.log(errorMessage);\n      });\n  }\n  return (\n    <div className={styles.wrapper}>\n      <div className=\"block\" className={styles.block}>\n        <h2 className={styles.title}>Sign In</h2>\n        <form\n          className={styles.form}\n          onSubmit={(e) => {\n            e.preventDefault();\n            firebaseSignIn(email, password);\n          }}\n        >\n          {/* <div className={styles.inputbox}>\n            <label htmlFor=\"username\">User Name</label>\n            <input type=\"text\" name=\"username\" />\n          </div> */}\n          <div className={styles.inputbox}>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"text\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => {\n                setEmail(e.currentTarget.value);\n              }}\n            />\n          </div>\n          <div className={styles.inputbox}>\n            <label htmlFor=\"email\">Password</label>\n            <input\n              type=\"password\"\n              name=\"passowrd\"\n              value={password}\n              onChange={(e) => {\n                setPassword(e.currentTarget.value);\n              }}\n            />\n          </div>\n          <button>Sign In</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"../css/Card.module.css\";\nimport { deleteArticle } from \"../firebase.js\";\nexport default function Card(props) {\n  var elem = document.createElement(\"div\");\n\n  elem.innerHTML = props.htmlContent;\n\n  let src = elem.querySelector(\"img\") ? elem.querySelector(\"img\").src : null;\n\n  return (\n    <div className={styles.container}>\n      <button\n        className={styles.delete}\n        onClick={() => {\n          deleteArticle(props.id);\n        }}\n      >\n        x\n      </button>\n      <Link to={`/article?id=${props.id}`}>\n        <div className={styles.card}>\n          <div className={styles.color}>\n            <img src={src} alt=\"\" className={styles.img} />\n          </div>\n          <div className={styles.wordWrapper}>\n            <div className={styles.title}>{props.title}</div>\n\n            <div className={styles.content}>{props.content}</div>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n}\n","import Card from \"./Card\";\nimport \"../css/CardWrapper.css\";\nimport { useSelector } from \"react-redux\";\nexport default function CardWrapper() {\n  console.log(\"render once\");\n  const list = useSelector((state) => {\n    let list = [];\n    let articleList = state.articleReducer.articleList;\n    if (state.articleReducer.tagSelected === \"all\") {\n      for (let i in articleList) {\n        list.push(\n          <Card\n            title={articleList[i].title}\n            content={articleList[i].content}\n            id={articleList[i].id}\n            key={articleList[i].id}\n            htmlContent={articleList[i].htmlContent}\n          />\n        );\n      }\n    } else if (state.articleReducer.tagSelected) {\n      for (let i in articleList) {\n        console.log(articleList);\n        if (\n          articleList[i].tags &&\n          articleList[i].tags.includes(state.articleReducer.tagSelected)\n        ) {\n          list.push(\n            <Card\n              title={articleList[i].title}\n              content={articleList[i].content}\n              id={articleList[i].id}\n              key={articleList[i].id}\n              htmlContent={articleList[i].htmlContent}\n            />\n          );\n        }\n      }\n    }\n    return list;\n  });\n\n  return <div className=\"cardWrapper\">{list}</div>;\n}\n","const SETMEMBER = (uid, displayName, email) => {\n  return {\n    type: \"SETMEMBER\",\n    uid: uid,\n    displayName: displayName,\n    email: email,\n  };\n};\n\nconst INITARTICLE = (articleList) => {\n  return {\n    type: \"INITARTICLE\",\n    articleList: articleList,\n  };\n};\n\nconst SWITCHARTICLE = (tag) => {\n  return {\n    type: \"SWITCHARTICLE\",\n    tagSelected: tag,\n  };\n};\n\nconst GETRSSRESPONSE = (feed, url) => {\n  return {\n    type: \"GETRSSRESPONSE\",\n    url: url,\n    feed: feed,\n  };\n};\n\n// const INITRSS = (articleList) => {\n//   return {\n//     type: \"INITRSS\",\n//     articleList: articleList,\n//   };\n// };\nconst SWITCHRSS = (ChannelRSSId) => {\n  console.log(\"hihi\");\n  return {\n    type: \"SWITCHRSS\",\n    ChannelRSSId: ChannelRSSId,\n  };\n};\n\nconst INITUSERRSSLIST = (RSSList) => {\n  return {\n    type: \"INITUSERRSSLIST\",\n    RSSList: RSSList,\n  };\n};\nexport {\n  INITARTICLE,\n  SWITCHRSS,\n  SWITCHARTICLE,\n  SETMEMBER,\n  GETRSSRESPONSE,\n  INITUSERRSSLIST,\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { db } from \"../firebase.js\";\nimport CardWrapper from \"./CardWrapper.jsx\";\nimport dispatch from \"react-redux\";\nimport { INITARTICLE } from \"../redux/actions\";\nimport AddArticle from \"./AddArticle\";\nexport default function Board(props) {\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  useEffect(() => {\n    function checkArticleUpdate(uid) {\n      db.collection(\"Articles\")\n        .where(\"uid\", \"==\", uid)\n        .onSnapshot(function (querySnapshot) {\n          let list = [];\n          querySnapshot.forEach(function (doc) {\n            list.push({\n              title: doc.data().title,\n              content: doc.data().markDown.slice(0, 100),\n              id: doc.data().id,\n              tags: doc.data().tags,\n              htmlContent: doc.data().readerHtml,\n            });\n          });\n          dispatch(INITARTICLE(list));\n        });\n    }\n    if (user) {\n      checkArticleUpdate(user.uid);\n    }\n  }, [user]);\n  return (\n    <div>\n      <AddArticle className=\"headMemberIcon\" user={user} />\n      <CardWrapper />\n    </div>\n  );\n}\n","import { Divider } from \"material-ui\";\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { auth } from \"../firebase.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { SETMEMBER } from \"../redux/actions\";\nimport { BrowserRouter as Router, useHistory } from \"react-router-dom\";\nexport default function MyRouter() {\n  let dispatch = useDispatch();\n\n  const history = useHistory();\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        console.log(user);\n        // setUser(user);\n        dispatch(SETMEMBER(user.uid, user.displayName, user.email));\n      } else {\n        history.push(\"/signup\");\n      }\n    });\n  }, [dispatch, history]);\n\n  return <div></div>;\n}\n","import { useEffect, useState } from \"react\";\n\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport { app } from \"../../lib/lib.js\";\nimport { useDispatch } from \"react-redux\";\nimport styles from \"../SideTab/FolderTab.module.css\";\n\nimport { SWITCHRSS } from \"../../redux/actions\";\nexport default function RSSFolder(props) {\n  const [RSS, setRSS] = useState([]);\n  const dispatch = useDispatch();\n  let user = props.user;\n  //   useEffect(() => {\n  //     function getMemberFolderTags() {\n  //       if (user) {\n  //         app.getMemberFolderTags(props.folderId).then((folderTags) => {\n  //           setRSS(folderTags);\n  //         });\n  //       }\n  //     }\n  //     getMemberFolderTags();\n  //   }, [user]);\n\n  function showRSSItem(RSS) {\n    let RSSList = [];\n    if (RSS.length > 0) {\n      for (let i in RSS) {\n        RSSList.push(\n          <TreeItem\n            key={RSS[i].id}\n            nodeId={RSS[i].id}\n            label={\n              <div className={styles.labelWrapper}>\n                <BookmarkIcon style={{ fontSize: 20 }} />\n                <div className={styles.labelTitle}>{RSS[i].title}</div>\n              </div>\n            }\n            onClick={() => {\n              console.log(RSS[i].id);\n              dispatch(SWITCHRSS(RSS[i].id));\n              //   dispatch(SWITCHARTICLE(tabs[i].id));\n            }}\n          />\n        );\n      }\n    }\n    return RSSList;\n  }\n  const RSSList = showRSSItem(props.folderRSS);\n  return <div>{RSSList}</div>;\n}\n","import { useEffect, useState } from \"react\";\nimport styles from \"../SideTab/FolderTab.module.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { TreeView } from \"@material-ui/lab\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { Link } from \"react-router-dom\";\nimport MarkunreadIcon from \"@material-ui/icons/Markunread\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport FolderOpenIcon from \"@material-ui/icons/FolderOpen\";\nimport { SWITCHRSS } from \"../../redux/actions\";\nimport { app } from \"../../lib/lib.js\";\nimport { useDispatch } from \"react-redux\";\nimport { db } from \"../../firebase.js\";\nimport { INITUSERRSSLIST } from \"../../redux/actions\";\nimport RSSFolder from \"./RSSFolder\";\nconst useStyles = makeStyles({\n  root: {\n    color: \"#B5B5B5\",\n    flexGrow: 10,\n    maxWidth: 220,\n    marginBottom: \"10px\",\n  },\n});\n\nexport default function RSSTab() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const [RSSFolders, setRSSFolders] = useState([]);\n\n  function getUserRSSList(uid) {\n    db.collection(\"Member\")\n      .doc(uid)\n      .get()\n      .then((doc) => {\n        dispatch(INITUSERRSSLIST(doc.data().subscribedRSS));\n      });\n  }\n\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  const userRSSList = useSelector((state) => {\n    return state.RSSReducer.UserRSSList;\n  });\n  useEffect(() => {}, [userRSSList]);\n  useEffect(() => {\n    function getRSSFolders() {\n      if (user) {\n        app\n          .getMemberRSSFolders(user.uid)\n          .then((RSSFolders) => {\n            setRSSFolders(RSSFolders);\n            return RSSFolders;\n          })\n          .then((RSSFolders) => {\n            RSSFolders.forEach(async (folder) => {\n              if (folder.RSSIds) {\n                await folder.RSSIds.forEach(async (RSSId) => {\n                  let RSS = await app.getRSSInfo(RSSId);\n                  folder.RSS.push(RSS);\n                });\n              }\n\n              return folder;\n            });\n\n            setRSSFolders(RSSFolders);\n          });\n      }\n    }\n    if (user) {\n      getUserRSSList(user.uid);\n    }\n    getRSSFolders();\n  }, [user]);\n\n  function showRSSFolders(folders) {\n    let RSSFolderList = [];\n    if (folders.length > 0) {\n      for (let i in folders) {\n        RSSFolderList.push(\n          <TreeItem\n            key={folders[i].id}\n            nodeId={folders[i].id}\n            label={\n              <div className={styles.labelWrapper}>\n                <FolderOpenIcon style={{ fontSize: 20 }} />\n                <div className={styles.labelTitle}>{folders[i].name}</div>\n              </div>\n            }\n            onClick={() => {}}\n          >\n            <RSSFolder\n              user={user}\n              folderId={folders[i].id}\n              folderRSS={folders[i].RSS}\n            />\n          </TreeItem>\n        );\n      }\n    }\n    return RSSFolderList;\n  }\n\n  const articleFolderList = showRSSFolders(RSSFolders);\n\n  return (\n    <div className={styles.folderTabWrapper}>\n      <div className={styles.folderTab}>\n        <Link to={\"/rss\"}>\n          <div className={styles.sectionTitle}>RSS</div>\n          <TreeView\n            className={classes.root}\n            defaultExpanded={[\"\"]}\n            defaultCollapseIcon={<ExpandMoreIcon />}\n            defaultExpandIcon={<ChevronRightIcon />}\n          >\n            <TreeItem\n              nodeId=\"tagAll\"\n              label={\n                <div className={styles.labelWrapper}>\n                  <div className={styles.labelTitle}>All Feeds</div>\n                </div>\n              }\n              onClick={() => {\n                dispatch(SWITCHRSS(\"all\"));\n              }}\n            ></TreeItem>\n\n            {articleFolderList}\n          </TreeView>\n        </Link>\n        <Link to={\"/rssexplore\"}>\n          <div className={styles.subTitle}>AddRSS</div>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport { app } from \"../../lib/lib.js\";\nimport { useDispatch } from \"react-redux\";\nimport styles from \"./FolderTab.module.css\";\nimport { SWITCHARTICLE } from \"../../redux/actions\";\nexport default function Folder(props) {\n  const [tabs, setTabs] = useState([]);\n  const dispatch = useDispatch();\n  let user = props.user;\n  useEffect(() => {\n    function getMemberFolderTags() {\n      if (user) {\n        app.getMemberFolderTags(props.folderId).then((folderTags) => {\n          setTabs(folderTags);\n        });\n      }\n    }\n    getMemberFolderTags();\n  }, [user]);\n\n  function showTabTreeList(tabs) {\n    let tabList = [];\n    if (tabs.length > 0) {\n      for (let i in tabs) {\n        tabList.push(\n          <TreeItem\n            key={tabs[i].id}\n            nodeId={tabs[i].id}\n            label={\n              <div className={styles.labelWrapper}>\n                <BookmarkIcon style={{ fontSize: 20, color: \"#5B5B5B\" }} />\n                <div className={styles.labelTitle}>{tabs[i].label}</div>\n              </div>\n            }\n            onClick={() => {\n              console.log(tabs[i].id);\n              dispatch(SWITCHARTICLE(tabs[i].id));\n            }}\n          />\n        );\n      }\n    }\n    return tabList;\n  }\n  const tabList = showTabTreeList(tabs);\n  return <div>{tabList}</div>;\n}\n","import { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./FolderTab.module.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { TreeView } from \"@material-ui/lab\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useSelector } from \"react-redux\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { Link } from \"react-router-dom\";\nimport MarkunreadIcon from \"@material-ui/icons/Markunread\";\nimport BookmarkIcon from \"@material-ui/icons/Bookmark\";\nimport FolderOpenIcon from \"@material-ui/icons/FolderOpen\";\nimport { app } from \"../../lib/lib.js\";\nimport { useDispatch } from \"react-redux\";\nimport { SWITCHARTICLE } from \"../../redux/actions\";\nimport RSSTab from \"../RSS/RSSTab\";\nimport Folder from \"./Folder\";\nconst useStyles = makeStyles({\n  root: {\n    color: \"#B5B5B5\",\n\n    flexGrow: 1,\n    maxWidth: 400,\n    marginBottom: \"10px\",\n  },\n});\n\nexport default function FolderTab() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [editFolder, setEditFolder] = useState(false);\n  const [tabs, setTabs] = useState([]);\n  const [articleFolders, setArticleFolders] = useState([]);\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  useEffect(() => {\n    function getArticleFolders() {\n      if (user) {\n        app.getMemberArticleFolders(user.uid).then((articleFolders) => {\n          setArticleFolders(articleFolders);\n        });\n      }\n    }\n    getArticleFolders();\n  }, [user]);\n\n  function showArticleFolders(folders) {\n    console.log(folders);\n    let articleFolderList = [];\n    if (folders.length > 0) {\n      for (let i in folders) {\n        articleFolderList.push(\n          <TreeItem\n            key={folders[i].id}\n            nodeId={folders[i].id}\n            label={\n              <div className={styles.labelWrapper}>\n                <FolderOpenIcon style={{ fontSize: 20, color: \"#5B5B5B\" }} />\n                <div className={styles.labelTitle}>{folders[i].name}</div>\n              </div>\n            }\n            onClick={() => {\n              console.log(folders[i].id);\n              // dispatch(SWITCHARTICLE(folders[i].id));\n            }}\n          >\n            <Folder user={user} folderId={folders[i].id} />\n          </TreeItem>\n        );\n      }\n    }\n    return articleFolderList;\n  }\n  function showTabTreeList(tabs) {\n    let tabList = [];\n    if (tabs.length > 0) {\n      for (let i in tabs) {\n        tabList.push(\n          <TreeItem\n            key={tabs[i].id}\n            nodeId={tabs[i].id}\n            label={\n              <div className={styles.labelWrapper}>\n                <FolderOpenIcon style={{ fontSize: 20, color: \"#5B5B5B\" }} />\n                <div className={styles.labelTitle}>{tabs[i].label}</div>\n              </div>\n            }\n            onClick={() => {\n              console.log(tabs[i].id);\n              dispatch(SWITCHARTICLE(tabs[i].id));\n            }}\n          />\n        );\n      }\n    }\n    return tabList;\n  }\n  const articleFolderList = showArticleFolders(articleFolders);\n  // const allTabList = showTabTreeList(tabs);\n\n  return (\n    <div className={styles.folderTabWrapper}>\n      <div className={styles.folderTab}>\n        <Link to={\"/board\"}>\n          <div className={styles.sectionTitle}>Saved</div>\n          <TreeView\n            className={classes.root}\n            defaultExpanded={[\"\"]}\n            defaultCollapseIcon={<ExpandMoreIcon />}\n            defaultExpandIcon={<ChevronRightIcon />}\n          >\n            <TreeItem\n              nodeId=\"tagAll\"\n              label={\n                <div className={styles.labelWrapper}>\n                  <div className={styles.labelTitle}>All</div>\n                </div>\n              }\n              onClick={() => {\n                console.log(\"all\");\n                dispatch(SWITCHARTICLE(\"all\"));\n              }}\n            ></TreeItem>\n            <TreeItem\n              nodeId=\"unTag\"\n              label={\n                <div className={styles.labelWrapper}>\n                  <MarkunreadIcon style={{ fontSize: 20, color: \"#5B5B5B\" }} />\n                  <div className={styles.labelTitle}>Untaged</div>\n                </div>\n              }\n            />\n            {articleFolderList}\n          </TreeView>\n          {editFolder\n            ? createPortal(\n                <div className={styles.popup}>\n                  <div\n                    className={styles.blur}\n                    onClick={() => {\n                      setEditFolder(false);\n                    }}\n                  ></div>\n                  <div className={styles.addFolder}>\n                    <div>Add New Tag Folder</div>\n                    <form action=\"\">\n                      <input type=\"text\" />\n                      <button>Confirm </button>\n                      <button\n                        onClick={() => {\n                          setEditFolder(false);\n                        }}\n                      >\n                        Cancel\n                      </button>\n                    </form>\n                  </div>\n                </div>,\n                document.body\n              )\n            : \"\"}\n          <div\n            className={styles.subTitle}\n            onClick={() => {\n              setEditFolder(true);\n            }}\n          >\n            Add Folder\n          </div>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","import { resolve } from \"path\";\nimport { app } from \"./lib.js\";\napp.getGraphData = function (uid) {\n  return new Promise(async (resolve) => {\n    let memberTags = await app.getMemberTags(uid);\n    console.log(\"2\");\n    resolve(memberTags);\n  });\n};\n\napp.initGraphData = function (uid) {\n  return new Promise((resolve) => {\n    app\n      .getGraphData(uid)\n      .then((memberTags) => {\n        console.log(memberTags);\n        let nodes = [];\n        memberTags.forEach((tag) => {\n          nodes.push({\n            id: tag.value,\n            tagId: tag.id,\n          });\n        });\n        return nodes;\n      })\n      .then((nodes) => {\n        resolve({\n          nodes: nodes,\n          links: [],\n        });\n      });\n  });\n};\n\nexport { app };\n","import * as d3 from \"d3\";\nimport { dataSet } from \"../../data.js\";\nimport { dataSet2 } from \"../../data2.js\";\nimport { useD3 } from \"../../hooks/useD3.js\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { app } from \"../../lib/gragh_lib.js\";\nimport { useDispatch } from \"react-redux\";\nimport { SWITCHARTICLE } from \"../../redux/actions\";\nimport styles from \"./Graph.module.css\";\nexport default function Graph() {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  const [data, setData] = useState({});\n  function color() {\n    const scale = d3.scaleOrdinal(d3.schemeCategory10);\n    return (d) => scale(d.group);\n  }\n  function drag(simulation) {\n    function dragstarted(event) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      event.subject.fx = event.subject.x;\n      event.subject.fy = event.subject.y;\n    }\n\n    function dragged(event) {\n      event.subject.fx = event.x;\n      event.subject.fy = event.y;\n    }\n\n    function dragended(event) {\n      if (!event.active) simulation.alphaTarget(0);\n      event.subject.fx = null;\n      event.subject.fy = null;\n    }\n\n    return d3\n      .drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n  }\n\n  const ref = useD3(\n    (svg) => {\n      let id;\n      const height = 1000;\n      const width = 1000;\n      if (data.nodes) {\n        const links = data.links.map((d) => Object.create(d));\n        const nodes = data.nodes.map((d) => Object.create(d));\n\n        const simulation = d3\n          .forceSimulation(nodes)\n          .force(\n            \"link\",\n            d3.forceLink(links).id((d) => d.id)\n          )\n          .force(\"charge\", d3.forceManyBody().strength(-80).distanceMax([500]))\n          .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n        const link = svg\n          .append(\"g\")\n          .attr(\"stroke\", \"#999\")\n          .attr(\"stroke-opacity\", 0.6)\n          .selectAll(\"line\")\n          .data(links)\n          .join(\"line\")\n          .attr(\"stroke-width\", (d) => Math.sqrt(d.value));\n\n        const node = svg\n          .append(\"g\")\n          .attr(\"stroke-linecap\", \"round\")\n          .attr(\"stroke-linejoin\", \"round\")\n          .selectAll(\"g\")\n          .data(nodes)\n          .join(\"g\")\n          .call(drag(simulation));\n        const circle = node\n          .append(\"circle\")\n          .attr(\"stroke-width\", 1.5)\n          .attr(\"r\", 5)\n          .attr(\"fill\", \"#4F4F4F\");\n        const text = node\n          .append(\"text\")\n          .text((d) => d.id)\n          .clone(true)\n          .lower()\n          .attr(\"stroke-width\", 0.5)\n          .attr(\"stroke\", \"white\")\n          .attr(\"fill\", \"white\")\n          .attr(\"id\", (d) => d.tagId)\n          .on(\"click\", (a) => {\n            console.log(a);\n            console.log(a.target.id);\n            dispatch(SWITCHARTICLE(a.target.id));\n          });\n\n        node.append(\"title\").text((d) => d.id);\n\n        simulation.on(\"tick\", () => {\n          link\n            .attr(\"x1\", (d) => d.source.x)\n            .attr(\"y1\", (d) => d.source.y)\n            .attr(\"x2\", (d) => d.target.x)\n            .attr(\"y2\", (d) => d.target.y);\n\n          circle.attr(\"cx\", (d) => d.x).attr(\"cy\", (d) => d.y);\n          text.attr(\"x\", (d) => d.x + 10).attr(\"y\", (d) => d.y);\n        });\n      }\n\n      return svg.node();\n    },\n    [data]\n  );\n  useEffect(() => {\n    if (user) {\n      console.log(user);\n      app.initGraphData(user.uid).then((data) => {\n        setData(data);\n      });\n    }\n  }, [user]);\n  return (\n    <div className={styles.graphWrapper}>\n      <svg\n        ref={ref}\n        style={{\n          height: 1000,\n          width: \"70%\",\n          marginRight: \"0px\",\n          marginLeft: \"0px\",\n        }}\n      >\n        <g className=\"plot-area\" />\n        <g className=\"x-axis\" />\n        <g className=\"y-axis\" />\n      </svg>\n    </div>\n  );\n}\n","import React from \"react\";\nimport * as d3 from \"d3\";\n\nexport const useD3 = (renderChartFn, dependencies) => {\n  const ref = React.useRef();\n\n  React.useEffect(() => {\n    console.log(ref.current);\n    renderChartFn(d3.select(ref.current));\n    return () => {};\n  }, dependencies);\n  return ref;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./RSSCard.module.css\";\n\nexport default function RSSCard(props) {\n  var elem = document.createElement(\"div\");\n  elem.innerHTML = props.item.content;\n  let src;\n  if (elem.querySelector(\"img\")) {\n    src = elem.querySelector(\"img\").src;\n  }\n\n  return (\n    <div className={styles.container} onClick={props.onClick}>\n      <div className={styles.card}>\n        <div className={styles.color}>\n          <img src={src} alt=\"\" className={styles.img} />\n        </div>\n\n        <div className={styles.wordWrapper}>\n          <div className={styles.title}>{props.item.title}</div>\n          <div className={styles.creator}>{props.item.creator}</div>\n          <div className={styles.content}>{props.item.contentSnippet}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useLocation, useHistory } from \"react-router-dom\";\n\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../../firebase.js\";\nimport ArrowBack from \"@material-ui/icons/ArrowBack\";\nimport styles from \"./RSSPage.module.css\";\nimport { app } from \"../../lib/lib.js\";\n\nimport { useSelector } from \"react-redux\";\n\nexport default function RSSPage(props) {\n  console.log(\"page rerender, props is \", props.item);\n  const [feedItem, setFeedItem] = useState({});\n  const location = useLocation();\n  let search = location.search;\n  let params = new URLSearchParams(search);\n\n  let user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  useEffect(() => {\n    if (props.item) {\n      console.log(props.item);\n      setFeedItem(props.item);\n    } else {\n      console.log(\"this is in else ...run\");\n      //   console.log(\"useeffect run\");\n      //   app.getFeedContent(feedId).then((feedItem) => {\n      //     console.log(feedItem);\n      //     setFeedItem(feedItem);\n      //   });\n    }\n  }, [props.item]);\n\n  //   useEffect(() => {\n  //     function getArticles() {\n  //       db.collection(\"Articles\")\n  //         .doc(id)\n  //         .onSnapshot(function (doc) {\n  //           setArticle({\n  //             title: doc.data().title,\n  //             markDown: doc.data().markDown,\n  //           });\n  //         });\n  //     }\n  //     getArticles();\n  //   }, []);\n\n  return (\n    <div className={styles.page}>\n      <div className={styles.head}>\n        <ArrowBack\n          style={{ color: \"#FFFCEC\", cursor: \"pointer\" }}\n          onClick={props.onClick}\n        />\n      </div>\n      <div className={styles.title}>{feedItem.title}</div>\n      <div dangerouslySetInnerHTML={{ __html: feedItem.content }}></div>\n    </div>\n  );\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { db } from \"../../firebase.js\";\nimport RSSCard from \"./RSSCard\";\nimport { INITARTICLE } from \"../../redux/actions\";\nimport styles from \"./RSSBoard.module.css\";\nimport { app } from \"../../lib/lib.js\";\nimport RSSPage from \"./RSSPage\";\nimport \"./RSSPage.css\";\nexport default function Board(props) {\n  const [allFeeds, setAllFeeds] = useState([]);\n  const [channelFeeds, setChannelFeeds] = useState({});\n  const [lastVisible, setLastVisible] = useState(0);\n  const [showPage, setShowPage] = useState(false);\n  const [feedItem, setFeedItem] = useState(\"\");\n  const [lastQueryDoc, setLastQueryDoc] = useState(\"\");\n  const lastVisibleNumber = useRef(lastVisible);\n  const dispatch = useDispatch();\n  const userRSSList = useSelector((state) => {\n    return state.RSSReducer.UserRSSList;\n  });\n\n  function batchFetchAllFeeds(userRSSList, lastVisible) {\n    console.log(userRSSList);\n    if (lastVisible === 0) {\n      console.log(\"last visible equal zero!\");\n      db.collection(\"RSSItem\")\n        .orderBy(\"pubDate\")\n        .where(\"RSSId\", \"in\", userRSSList)\n        .limit(15)\n        .get()\n        .then((snapshot) => {\n          console.log(\"batchfetch start\");\n          let items = [...allFeeds];\n          snapshot.forEach((doc) => {\n            items.push(doc.data());\n          });\n          setLastQueryDoc(snapshot.docs[14]);\n\n          console.log(\"finsih loop\");\n          setAllFeeds(items);\n          console.log(\"se set items as \", items);\n        });\n    } else {\n      if (lastQueryDoc) {\n        console.log(\"else start, the last visible is\", lastVisible);\n        console.log(lastQueryDoc);\n        db.collection(\"RSSItem\")\n          .orderBy(\"pubDate\")\n          .startAfter(lastQueryDoc)\n          .where(\"RSSId\", \"in\", userRSSList)\n          .limit(7)\n          .get()\n          .then((snapshot) => {\n            let items = [...allFeeds];\n            snapshot.forEach((doc) => {\n              console.log(doc.data());\n              items.push(doc.data());\n            });\n            setLastQueryDoc(snapshot.docs[6]);\n            setAllFeeds(items);\n          });\n      }\n    }\n  }\n\n  function renderAllFeeds(feedItems) {\n    if (feedItems) {\n      let feedList = [];\n      for (let i in feedItems) {\n        feedList.push(\n          <RSSCard\n            item={feedItems[i]}\n            onClick={(e) => {\n              setShowPage(true);\n              setFeedItem(feedItems[i]);\n            }}\n          />\n        );\n      }\n      return (\n        <div className={styles.board}>\n          <h1 className={styles.title}>Your Daily Feeds</h1>\n          <div className={styles.content}>Dont scroll fb! Lets read feeds~</div>\n          {feedList}\n        </div>\n      );\n    } else {\n      return (\n        <div className={styles.board}>\n          <h1 className={styles.title}>Your Daily Feeds</h1>\n          <div className={styles.content}>You dont have any feed</div>\n          <div>You dont have any feed</div>\n        </div>\n      );\n    }\n  }\n\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n\n  function renderFeedPage(feedItem) {\n    return (\n      <RSSPage\n        item={feedItem}\n        onClick={() => {\n          setShowPage(false);\n        }}\n      />\n    );\n  }\n\n  const ChannelRSSId = useSelector((state) => {\n    return state.RSSReducer.ChannelRSSId;\n  });\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const winScroll =\n        document.body.scrollTop || document.documentElement.scrollTop;\n\n      const height =\n        document.documentElement.scrollHeight -\n        document.documentElement.clientHeight;\n      if (winScroll > height - 20) {\n        console.log(\"reach the bottom!\", lastVisible);\n\n        let newLast = lastVisible + 7;\n        setLastVisible(newLast);\n      }\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [lastVisible]);\n\n  useEffect(() => {\n    console.log(lastVisible);\n    if (userRSSList) {\n      batchFetchAllFeeds(userRSSList, lastVisible);\n    }\n  }, [userRSSList, lastVisible]);\n  useEffect(() => {\n    fetchChannelFeed();\n  }, [ChannelRSSId]);\n\n  let allFeedsOutome;\n  if (ChannelRSSId === \"all\") {\n    console.log(\"channel id is all\");\n    console.log(allFeeds);\n    allFeedsOutome = renderAllFeeds(allFeeds);\n  } else if (ChannelRSSId) {\n    allFeedsOutome = renderChannelFeeds();\n  }\n\n  async function fetchChannelFeed() {\n    let items;\n    let RSS;\n    if (ChannelRSSId) {\n      console.log(ChannelRSSId);\n      RSS = await app.getRSSInfo(ChannelRSSId);\n      items = await app.getChannelFeeds(ChannelRSSId);\n      console.log(RSS, items);\n      setChannelFeeds({\n        RSS: RSS,\n        items: items,\n      });\n    }\n  }\n  function renderChannelFeeds() {\n    if (channelFeeds.items) {\n      console.log(channelFeeds);\n      let items = channelFeeds.items;\n      let RSS = channelFeeds.RSS;\n      let feedList = [];\n      for (let i in items) {\n        console.log(items[i]);\n        feedList.push(\n          <RSSCard\n            item={items[i]}\n            onClick={(e) => {\n              console.log(\"hihi\");\n              setShowPage(true);\n              setFeedItem(items[i]);\n            }}\n          />\n        );\n      }\n      return (\n        <div className={styles.board}>\n          <h1 className={styles.title}>{RSS.title}</h1>\n          <div\n            className={styles.content}\n            dangerouslySetInnerHTML={{ __html: RSS.description }}\n          ></div>\n          {feedList}\n        </div>\n      );\n    }\n  }\n  const feedPage = renderFeedPage(feedItem);\n  console.log(lastVisible);\n  console.log(allFeeds);\n  return (\n    <div\n      className={styles.boardWrapper}\n      onScroll={() => {\n        alert(\"ewrwe\");\n        console.log(\"you scroll\");\n      }}\n    >\n      {allFeedsOutome}\n      {showPage ? (\n        <div className={styles.popup}>\n          <div\n            className={styles.blur}\n            onClick={() => {\n              setShowPage(false);\n            }}\n          ></div>\n          {feedPage}\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { localUrl, ec2Url } from \"../../config.js\";\nimport styles from \"./FindRSS.module.css\";\nimport * as RSSParser from \"rss-parser\";\nimport { GETRSSRESPONSE } from \"../../redux/actions\";\nexport default function FindRSS(props) {\n  const [reqUrl, setReqUrl] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n  function requestRSS(url) {\n    const CORS_PROXY = \"https://cors-anywhere.herokuapp.com/\";\n    let parser = new RSSParser();\n    parser.parseURL(CORS_PROXY + url, function (err, feed) {\n      if (err) {\n        let parser = new RSSParser();\n        parser.parseURL(url, function (err, feed) {\n          if (err) {\n            throw dispatch(GETRSSRESPONSE(err));\n          }\n          dispatch(GETRSSRESPONSE(feed, url));\n        });\n        throw dispatch(GETRSSRESPONSE(err));\n      }\n      console.log(feed);\n      console.log(feed.title);\n      dispatch(GETRSSRESPONSE(feed, url));\n      feed.items.forEach(function (entry) {\n        console.log(entry.title + \":\" + entry.link);\n      });\n    });\n  }\n\n  return (\n    <div className={styles.addArticle}>\n      <div class={styles.addTitle}>Add new source to reach this world</div>\n      <form\n        className={styles.addForm}\n        action=\"\"\n        onSubmit={(e) => {\n          e.preventDefault();\n          if (user) {\n            requestRSS(reqUrl);\n          }\n        }}\n      >\n        <input\n          type=\"text\"\n          name=\"input\"\n          className={styles.input}\n          value={reqUrl}\n          onChange={(e) => setReqUrl(e.currentTarget.value)}\n        />\n        <button type=\"submit\" className={styles.add}>\n          搜尋\n        </button>\n      </form>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport FindRSS from \"./FindRSS\";\nimport { db } from \"../../firebase.js\";\nimport RSSCard from \"./RSSCard\";\nimport { INITARTICLE } from \"../../redux/actions\";\nimport styles from \"./RSSBoard.module.css\";\nimport { app } from \"../../lib/lib.js\";\nimport RSSPage from \"./RSSPage\";\nexport default function Board(props) {\n  const [showPage, setShowPage] = useState(false);\n  const [feedItem, setFeedItem] = useState(\"\");\n  const dispatch = useDispatch();\n  console.log(\"rerender\");\n  const user = useSelector((state) => {\n    return state.memberReducer.user;\n  });\n\n  function renderFeedPage(feedItem) {\n    console.log(\"redner run again\");\n    console.log(feedItem);\n    return <RSSPage item={feedItem} />;\n  }\n\n  const ChannelRSSId = useSelector((state) => {\n    console.log(\"hihi\");\n    return state.RSSReducer.ChannelRSSId;\n  });\n  console.log(\"rerender channelid is \", ChannelRSSId);\n\n  const searchFeed = useSelector((state) => {\n    return state.RSSReducer.feed;\n  });\n  const searchFeedUrl = useSelector((state) => {\n    return state.RSSReducer.url;\n  });\n\n  function renderSearchFeed(feed) {\n    let feedList = [];\n    for (let i in feed.items) {\n      feedList.push(\n        <RSSCard\n          item={feed.items[i]}\n          onClick={(e) => {\n            console.log(\"hihi\");\n            setShowPage(true);\n            setFeedItem(feed.items[i]);\n          }}\n        />\n      );\n    }\n\n    return (\n      <div className={styles.board}>\n        <h1 className={styles.title}>{feed.title}</h1>\n        <div\n          className={styles.content}\n          dangerouslySetInnerHTML={{ __html: feed.description }}\n        ></div>\n        {feed.title ? (\n          <button\n            className={styles.subscribe_btn}\n            onClick={() => {\n              app.subscribeRSS(user.uid, feed.title, searchFeedUrl, feed);\n            }}\n          >\n            Follow\n          </button>\n        ) : (\n          \"\"\n        )}\n        {feedList}\n      </div>\n    );\n  }\n  //   useEffect(() => {\n\n  //     if (searchFeed) {\n  //       checkArticleUpdate(user.uid);\n  //     }\n  //   }, [user]);\n  const feedPage = renderFeedPage(feedItem);\n  const searchOutcome = renderSearchFeed(searchFeed);\n\n  useEffect(() => {\n    function checkArticleUpdate(uid) {\n      db.collection(\"Articles\")\n        .where(\"uid\", \"==\", uid)\n        .onSnapshot(function (querySnapshot) {\n          let list = [];\n          querySnapshot.forEach(function (doc) {\n            list.push({\n              title: doc.data().title,\n              content: doc.data().markDown.slice(0, 100),\n              id: doc.data().id,\n              tags: doc.data().tags,\n            });\n          });\n          dispatch(INITARTICLE(list));\n        });\n    }\n    if (user) {\n      checkArticleUpdate(user.uid);\n    }\n  }, [user]);\n  return (\n    <div className={styles.boardWrapper}>\n      <FindRSS className=\"headMemberIcon\" user={props.user} />\n      {searchOutcome}\n      {showPage ? (\n        <div className={styles.popup}>\n          <button\n            onClick={() => {\n              setShowPage(false);\n            }}\n          >\n            Close Page\n          </button>\n          {feedPage}\n        </div>\n      ) : (\n        \"\"\n      )}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/logo.4f1ab45e.png\";","import styles from \"./FunctionTab.module.css\";\nimport logo from \"../../img/logo.png\";\nimport { Link } from \"react-router-dom\";\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\nimport InsertChartIcon from \"@material-ui/icons/InsertChart\";\nimport HomeWorkIcon from \"@material-ui/icons/HomeWork\";\nimport { auth } from \"../../firebase.js\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport RssFeedIcon from \"@material-ui/icons/RssFeed\";\nexport default function FunctionTab() {\n  return (\n    <div className={styles.functionTabWrapper}>\n      <div className={styles.functionTab}>\n        <div className={styles.logoWrapper}>\n          <img src={logo} alt=\"\" width=\"50px\" />\n        </div>\n        <div className={styles.iconWrapper}>\n          <Link to={\"/board\"}>\n            <HomeWorkIcon fontSize=\"large\" style={{ color: \"#747474\" }} />\n          </Link>\n          <Link to={\"/rss\"}>\n            <RssFeedIcon fontSize=\"large\" style={{ color: \"#747474\" }} />\n          </Link>\n          <Link to={\"/graph\"}>\n            <InsertChartIcon fontSize=\"large\" style={{ color: \"#747474\" }} />\n          </Link>\n          <Link to={\"/signup\"}>\n            <AccountBoxIcon fontSize=\"large\" style={{ color: \"#747474\" }} />\n          </Link>\n        </div>\n        <ExitToAppIcon\n          calssName={styles.exit}\n          style={{ color: \"#747474\" }}\n          onClick={() => {\n            auth\n              .signOut()\n              .then(() => console.log(\"user successfully sign out\"))\n              .catch((err) => {\n                console.log(err);\n              });\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { auth } from \"./../firebase.js\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Article from \"./Article/Aritcle\";\nimport Header from \"./Header/Header\";\nimport Signup from \"./Member/Signup\";\nimport Signin from \"./Member/Signin\";\nimport Board from \"./Board\";\nimport MyRouter from \"./MyRouter\";\nimport FolderTab from \"./SideTab/FolderTab\";\nimport Graph from \"./Graph/Graph1\";\nimport RSSHeader from \"./RSS/RSSHeader\";\nimport RSSTab from \"./RSS/RSSTab\";\nimport RSSBoard from \"./RSS/RSSBoard\";\nimport RSSExplore from \"./RSS/RSSExplore\";\nimport FunctionTab from \"./SideTab/FunctionTab\";\n//React.Memo\n//state prop dispatch history\n\nfunction App() {\n  return (\n    <Router>\n      <div\n        className=\"App\"\n        onClick={() => {\n          console.log(\"you click\");\n        }}\n      >\n        <MyRouter />\n        <Switch>\n          <Route path=\"/signup\" component={Signup}></Route>\n          <Route path=\"/signin\" component={Signin}></Route>\n          <Route path=\"/board\">\n            <div className=\"content\">\n              <FunctionTab />\n              <FolderTab />\n              <Board />\n            </div>\n          </Route>\n          <Route path=\"/article\" component={Article}></Route>\n          <Route path=\"/graph\">\n            <div className=\"content\">\n              <FunctionTab />\n              <Board />\n              <Graph />\n            </div>\n          </Route>\n          <Route path=\"/rss\">\n            <div className=\"content\">\n              <FunctionTab />\n              <RSSTab />\n              <RSSBoard />\n            </div>\n          </Route>\n          <Route path=\"/rssexplore\">\n            <div className=\"content\">\n              <FunctionTab />\n              <RSSTab />\n              <RSSExplore />\n            </div>\n          </Route>\n          <h1 className=\"title\">Welcome to Taggy</h1>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","//reducer\nimport { nanoid } from \"nanoid\";\n\nconst article_Reducer = (\n  state = {\n    tagSelected: \"all\",\n    articleList: [],\n  },\n  action\n) => {\n  switch (action.type) {\n    // case \"DeleteTask\":\n    //   let remaintasks = state.tasks.filter((task) => task.id != action.id);\n\n    //   return { tasks: remaintasks };\n    case \"INITARTICLE\":\n      return {\n        ...state,\n\n        articleList: action.articleList,\n      };\n    case \"SWITCHARTICLE\":\n      return {\n        ...state,\n\n        tagSelected: action.tagSelected,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default article_Reducer;\n","//reducer\nimport { nanoid } from \"nanoid\";\n\nconst member_Reducer = (state = {}, action) => {\n  switch (action.type) {\n    case \"SETMEMBER\":\n      return {\n        user: {\n          uid: action.uid,\n          displayName: action.displayName,\n          email: action.email,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default member_Reducer;\n","//reducer\nimport { nanoid } from \"nanoid\";\n\nconst RSS_Reducer = (state = { feed: {}, ChannelRSSId: \"all\" }, action) => {\n  switch (action.type) {\n    case \"GETRSSRESPONSE\":\n      return {\n        ...state,\n        feed: action.feed,\n        url: action.url,\n      };\n\n    case \"SWITCHRSS\":\n      return {\n        ...state,\n        ChannelRSSId: action.ChannelRSSId,\n      };\n    case \"INITUSERRSSLIST\":\n      return {\n        ...state,\n        UserRSSList: action.RSSList,\n      };\n    case \"SETUSERALLFEEDS\":\n      return {\n        ...state,\n        userAllFeeds: [...state.userAllFeeds, action.userAllFeeds],\n      };\n    default:\n      return state;\n  }\n};\n\nexport default RSS_Reducer;\n","import article_Reducer from \"./article_Reducer.jsx\";\nimport member_Reducer from \"./member_Reducer.jsx\";\nimport RSS_Reducer from \"./RSS_Reducer\";\nimport { combineReducers } from \"redux\";\n\nconst allReducers = combineReducers({\n  articleReducer: article_Reducer,\n  memberReducer: member_Reducer,\n  RSSReducer: RSS_Reducer,\n});\n\nexport default allReducers;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./component/App.jsx\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport allReducers from \"./redux/reducers\";\nimport { Provider } from \"react-redux\";\nconst store = createStore(allReducers, composeWithDevTools());\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}