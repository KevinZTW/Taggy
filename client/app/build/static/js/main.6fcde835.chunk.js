(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{105:function(e,t,n){e.exports={addArticle:"FindRSS_addArticle__3_qks",addTitle:"FindRSS_addTitle__1wsn0",addForm:"FindRSS_addForm__3Z4Ot",input:"FindRSS_input__jhFPD",add:"FindRSS_add__1MrI6"}},106:function(e,t,n){e.exports={functionTabWrapper:"FunctionTab_functionTabWrapper__2E3ar",functionTab:"FunctionTab_functionTab__3iiBL",logoWrapper:"FunctionTab_logoWrapper__FNK68",iconWrapper:"FunctionTab_iconWrapper__2Wipq"}},150:function(e,t,n){e.exports={title:"Article_title__1Mrw9",head:"Article_head__31GUo",tagWrapper:"Article_tagWrapper__VZfHf",tag:"Article_tag__3LVVi",addTag:"Article_addTag__1oXdm"}},152:function(e,t,n){e.exports={page:"RSSPage_page__3Q9XS",title:"RSSPage_title__2XScQ",head:"RSSPage_head__1VR8a"}},158:function(e,t,n){},23:function(e,t,n){e.exports={folderTabWrapper:"FolderTab_folderTabWrapper__2niIu",folderTab:"FolderTab_folderTab__16C6M",sectionTitle:"FolderTab_sectionTitle__2NdNu",labelWrapper:"FolderTab_labelWrapper__1781X",labelTitle:"FolderTab_labelTitle__uK57g",subTitle:"FolderTab_subTitle__2XqZN",popup:"FolderTab_popup__1FOmD",popUpSlide:"FolderTab_popUpSlide__2e-fK",blur:"FolderTab_blur__qVu-f",addFolder:"FolderTab_addFolder__23fRR"}},235:function(e,t,n){e.exports={signOut:"RSSHeader_signOut__2rqQG",header:"RSSHeader_header__3_tX0"}},30:function(e,t,n){e.exports={boardWrapper:"RSSBoard_boardWrapper__16EX2",board:"RSSBoard_board__38Rna",title:"RSSBoard_title__15GhO",content:"RSSBoard_content__3Q0dv",subscribe_btn:"RSSBoard_subscribe_btn__1ZnMQ",popup:"RSSBoard_popup__2ssSi",popUpSlide:"RSSBoard_popUpSlide__35Eo7",blur:"RSSBoard_blur__3-EVn"}},36:function(e,t,n){e.exports={wrapper:"SignUp_wrapper__2d3J1",block:"SignUp_block__1ink9",title:"SignUp_title__3MK8E",form:"SignUp_form__3fw2S",inputbox:"SignUp_inputbox__2Lfhs",login:"SignUp_login__2Tq4f"}},382:function(e,t,n){e.exports={signOut:"Header_signOut__3E39S",header:"Header_header__3CDt1"}},384:function(e,t,n){e.exports={graphWrapper:"Graph_graphWrapper__3X3DP"}},446:function(e,t,n){},487:function(e,t,n){},494:function(e,t,n){},66:function(e,t,n){e.exports={container:"Card_container__2vSb6",card:"Card_card__3C6Cc",color:"Card_color__3S4k1",img:"Card_img__3vgPn",title:"Card_title__HprCG",content:"Card_content__3Nr22",wordWrapper:"Card_wordWrapper__1vPtQ",delete:"Card_delete__25V8_"}},67:function(e,t,n){e.exports={container:"RSSCard_container__1w-D7",card:"RSSCard_card__39rjh",color:"RSSCard_color__29tbN",img:"RSSCard_img__3Fgy6",title:"RSSCard_title__2lXv2",content:"RSSCard_content__1mFFX",wordWrapper:"RSSCard_wordWrapper__3HcZP",creator:"RSSCard_creator__3NYCD",delete:"RSSCard_delete__23NFO"}},679:function(e,t,n){},686:function(e,t){},688:function(e,t){},713:function(e,t){},715:function(e,t){},728:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),o=n(21),i=n.n(o),s=(n(446),n(13)),l=(n(729),n(26)),u=(n(271),n(448),s.a.initializeApp({apiKey:"AIzaSyA4cFmihlY5pIDTssbGwk9YNfGEjRfEBh4",authDomain:"knowledge-base-tw.firebaseapp.com",databaseURL:"https://knowledge-base-tw.firebaseio.com",projectId:"knowledge-base-tw",storageBucket:"knowledge-base-tw.appspot.com",messagingSenderId:"786102856750",appId:"1:786102856750:web:6bf12efd1fefb24aca83bf",measurementId:"G-RBNFGWQ2WE"})),d=u.auth(),b=s.a.firestore();var f=n(22),j=n(75),h=n(32),p=n(17),m=n(228),g=n.n(m),O=n(377),S=(n(475),n(158),new O.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}));function x(e){var t=Object(c.useState)(e.content),n=Object(p.a)(t,2),r=n[0],o=n[1];Object(c.useEffect)((function(){o(e.content)}),[e.content]);var i=Object(c.useState)("preview"),s=Object(p.a)(i,2),l=s[0],u=s[1];return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(g.a,{value:r,onChange:function(t){var n,a;o(t),n=e.id,a=t,b.collection("Articles").doc(n).update({markDown:a}).then(console.log("change article"))},selectedTab:l,onTabChange:u,generateMarkdownPreview:function(e){return Promise.resolve(S.makeHtml(e))}})})}var v=n(141),_=n.n(v),R=n(150),w=n.n(R),k=n(14),y=n.n(k),N=n(31),T=(n(279),{getMemberArticleFolders:function(e){return new Promise((function(t,n){b.collection("Member").doc(e).get().then(function(){var e=Object(N.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(y.a.mark((function e(){var a,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.data().articleFolders,c=[],console.log(a),""===a||!a){e.next=12;break}e.t0=y.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=12;break}return r=e.t1.value,console.log(a[r]),e.next=10,b.collection("articleFolders").doc(a[r]).get().then((function(e){c.push({id:e.data().id,name:e.data().name,tags:e.data().tags})}));case 10:e.next=5;break;case 12:t(c);case 13:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("dont have this user");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},getMemberFolderTags:function(e){return new Promise((function(t,n){b.collection("articleFolders").doc(e).get().then(function(){var e=Object(N.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(y.a.mark((function e(){var a,c,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.data().tags,c=[],console.log(a),""===a||!a){e.next=11;break}r=y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a[t]),e.next=3,b.collection("Tags").doc(a[t]).get().then((function(e){c.push({id:a[t],value:e.data().name,label:e.data().name})}));case 3:case"end":return e.stop()}}),e)})),e.t0=y.a.keys(a);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(r(o),"t2",9);case 9:e.next=6;break;case 11:t(c);case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},getArticleTags:function(e){return new Promise((function(t,n){b.collection("Articles").doc(e).get().then((function(e){var n=e.data().tags,a=[];if(n){var c=function(e){b.collection("Tags").doc(n[e]).get().then((function(t){console.log(t.data()),a.push({tagId:n[e],label:t.data().name,value:t.data().name})})),t(a)};for(var r in n)c(r)}else t("")}))}))},getMemberTags:function(e){return new Promise((function(t,n){console.log(e),b.collection("Member").doc(e).get().then(function(){var e=Object(N.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n.data()),!n.data()){e.next=5;break}return e.delegateYield(y.a.mark((function e(){var a,c,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.data().tags,c=[],console.log(a),""===a||!a){e.next=11;break}r=y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a[t]),e.next=3,b.collection("Tags").doc(a[t]).get().then((function(e){c.push({id:a[t],value:e.data().name,label:e.data().name})}));case 3:case"end":return e.stop()}}),e)})),e.t0=y.a.keys(a);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(r(o),"t2",9);case 9:e.next=6;break;case 11:console.log(c),console.log("1"),t(c);case 14:case"end":return e.stop()}}),e)}))(),"t0",3);case 3:e.next=6;break;case 5:t("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}});T.initArticleTags=function(){var e=Object(N.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,T.getArticleTags(t).then((function(e){a.values=e}));case 3:return e.next=5,T.getMemberTags(n).then((function(e){a.options=e}));case 5:return console.log(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T.checkTagUnderUser=function(e,t){return new Promise((function(n,a){b.collection("Member").doc(t).get().then(function(){var a=Object(N.a)(y.a.mark((function a(c){var r,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(t),!c.data()){a.next=18;break}if(r=c.data().tags,console.log(r),!r){a.next=15;break}a.t0=y.a.keys(r);case 6:if((a.t1=a.t0()).done){a.next=12;break}return o=a.t1.value,a.next=10,b.collection("Tags").doc(r[o]).get().then((function(t){t.data().name===e&&(console.log(t.data().name),console.log("resolve the id"),n(t.data().id))}));case 10:a.next=6;break;case 12:n("notExist"),a.next=16;break;case 15:n("noanytag");case 16:a.next=19;break;case 18:n("nothisuser");case 19:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}))},T.inputTag=function(e,t,n){console.log(t),T.checkTagUnderUser(n,t).then((function(a){console.log(a),"noanytag"===a?b.collection("Tags").add({name:n,articles:[e]}).then((function(e){return console.log("Document written with ID: ",e.id),e.update({id:e.id}),e.id})).then((function(t){return b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(t)}),t})).then((function(e){return b.collection("Member").doc(t).update({tags:[e]}),e})).then((function(e){b.collection("articleFolders").doc("un"+t).set({id:"un"+t,name:"Uncategorized",tags:s.a.firestore.FieldValue.arrayUnion(e)}).then((function(){b.collection("Member").doc(t).update({articleFolders:s.a.firestore.FieldValue.arrayUnion("un"+t)})}))})).catch((function(e){console.error("Error adding document: ",e)})):"notExist"===a?(console.log("user dont have this tag, CREAT AND ADD to ARTICLE"),b.collection("Tags").add({name:n,articles:[e]}).then((function(e){return console.log("Document written with ID: ",e.id),e.update({id:e.id}),e.id})).then((function(t){return b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(t)}),t})).then((function(e){return b.collection("Member").doc(t).update({tags:s.a.firestore.FieldValue.arrayUnion(e)}),e})).then((function(e){console.log("tag add to :","un"+t,"value is",e),b.collection("articleFolders").doc("un"+t).update({tags:s.a.firestore.FieldValue.arrayUnion(e)})})).catch((function(e){console.error("Error adding document: ",e)}))):(console.log("user already has this tag, ADD ATICLE"),b.collection("Tags").doc(a).update({articles:s.a.firestore.FieldValue.arrayUnion(e)}),b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(a)}))}))},T.deleteTagFromArticle=function(e,t,n){b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayRemove(n)})},T.checkRSSInFetchList=function(e){return new Promise((function(t,n){console.log(e),b.collection("RSSFetchList").where("url","==",e).get().then((function(e){e.empty?(console.log("not in fetch list"),t(!1)):e.forEach((function(e){e.data()?(console.log("already id fetch list, the id is:"),t(e.data().id)):console.log("sth pretty weird happened")}))}))}))},T.addRSSToFetchList=function(e,t){return new Promise((function(n,a){b.collection("RSSFetchList").add({title:e.title||"null",url:t||"null",link:e.link||"null",description:e.description||"null",img:(e.image||{}).url||"null",lastUpdate:e.lastBuildDate||"null"}).then((function(e){return e.update({id:e.id}),e.id})).then((function(e){return n(e)}))}))},T.checkUserHasUncaFolder=function(e){return new Promise((function(t,n){console.log(e),b.collection("Member").doc(e).get().then((function(n){n.data().RSSFolders.includes("unCa_"+e)?t(!0):t(!1)}))}))},T.addRSSToMember=function(e,t){return new Promise(function(){var n=Object(N.a)(y.a.mark((function n(a,c){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.checkUserHasUncaFolder(e);case 2:if(n.sent){n.next=7;break}console.log("user dont have unCat folder, create and as RSS to it "),b.collection("RSSFolders").doc("unCa_"+e).set({uid:e,name:"Uncategorized",RSS:s.a.firestore.FieldValue.arrayUnion(t),id:"unCa_"+e}).then((function(n){b.collection("Member").doc(e).update({subscribedRSS:s.a.firestore.FieldValue.arrayUnion(t),RSSFolders:s.a.firestore.FieldValue.arrayUnion("unCa_"+e)}).then(console.log("successfully add to user"))})),n.next=9;break;case 7:console.log("user already has unCat folder, as RSS to it "),b.collection("RSSFolders").doc("unCa_"+e).update({RSS:s.a.firestore.FieldValue.arrayUnion(t)}).then((function(n){b.collection("Member").doc(e).update({subscribedRSS:s.a.firestore.FieldValue.arrayUnion(t)}).then(console.log("successfully add to user"))}));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())},T.subscribeRSS=function(){var e=Object(N.a)(y.a.mark((function e(t,n,a,c){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("add to ",t,n,a),T.checkRSSInFetchList(a).then((function(e){e?(console.log("RSS already in Fetch List"),T.addRSSToMember(t,e)):(console.log("Add RSS to fetch List"),T.addRSSToFetchList(c,a).then((function(e){console.log("add RSS to member"),T.addRSSToMember(t,e),console.log("Add feed to RSSItem"),T.addRSSItem(c,e)})))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),T.checkRSSItem=function(e,t){return b.collection("RSSItem").where("title","==",e).get().then((function(e){var n=[];return e.forEach((function(e){n.push(e.data().itemTitle)})),console.log(n),console.log(t.title),console.log(n.includes(t.title)),n.includes(t.title)?(console.log("already in db"),!1):(console.log("check and not in db "),!0)}))},T.addRSSItem=function(e,t){var n=function(n){T.checkRSSItem(e.title,e.items[n]).then((function(a){console.log(a),a?(console.log("this feed not in db, let's save it "),b.collection("RSSItem").add({RSSId:t,content:e.items[n].content||"null",contentSnippet:e.items[n].contentSnippet||"null",RSS:e.title||"null",title:e.items[n].title||"null",creator:e.items[n].creator||"null",guid:e.items[n].guid||"null",isoDate:e.items[n].isoDate||"null",link:e.items[n].link||"null",pubDate:e.items[n].pubDate||"null",author:e.items[n].author||"null"}).then((function(e){return e.update({id:e.id})})).then(console.log("store successfully!"))):console.log("already store this feed, let's skip")}))};for(var a in e.items)n(a)},T.getMemberRSSFolders=function(e){return new Promise((function(t,n){b.collection("Member").doc(e).get().then(function(){var e=Object(N.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(y.a.mark((function e(){var a,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.data().RSSFolders,c=[],console.log(a),""===a||!a){e.next=12;break}e.t0=y.a.keys(a);case 5:if((e.t1=e.t0()).done){e.next=12;break}return r=e.t1.value,console.log(a[r]),e.next=10,b.collection("RSSFolders").doc(a[r]).get().then((function(e){c.push({id:e.data().id,name:e.data().name,RSSIds:e.data().RSS,RSS:[]})}));case 10:e.next=5;break;case 12:t(c);case 13:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("dont have this user");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},T.getRSSInfo=function(e){return new Promise((function(t,n){b.collection("RSSFetchList").doc(e).get().then(function(){var e=Object(N.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.data()&&t({id:n.data().id,title:n.data().title,url:n.data().url});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},T.getChannelFeeds=function(e){return new Promise((function(t,n){var a=[];b.collection("RSSItem").where("RSSId","==",e).get().then((function(e){e.forEach((function(e){a.push({RSSId:e.data().RSSId,content:e.data().content,contentSnippet:e.data().contentSnippet,RSS:e.data().RSS,title:e.data().title,creator:e.data().creator,guid:e.data().guid,isoDate:e.data().isoDate,link:e.data().link,pubDate:e.data().pubDate,author:e.data().author})})),t(a)}))}))},T.getFeedContent=function(e){return new Promise((function(t,n){b.collection("RSSItem").doc(e).get().then((function(e){t({RSSId:e.data().RSSId,content:e.data().content,contentSnippet:e.data().contentSnippet,RSS:e.data().RSS,title:e.data().tilte,creator:e.data().creator,guid:e.data().guid,isoDate:e.data().isoDate,link:e.data().link,pubDate:e.data().pubDate,author:e.data().author})}))}))},T.getAllUserFeeds=function(e){};var F=n(388),C=n(16);function I(){var e=Object(c.useState)({}),t=Object(p.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)({}),i=Object(p.a)(o,2),s=i[0],u=i[1],d=Object(l.g)().search,m=new URLSearchParams(d).get("id"),g=Object(C.c)((function(e){return e.memberReducer.user}));return Object(c.useEffect)((function(){g&&(console.log("useeffect run"),T.initArticleTags(m,g.uid).then((function(e){console.log(e),r(e)})))}),[g]),Object(c.useEffect)((function(){b.collection("Articles").doc(m).onSnapshot((function(e){u({title:e.data().title,markDown:e.data().markDown})}))}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:w.a.head,children:Object(a.jsx)(f.b,{to:"/board",children:Object(a.jsx)(_.a,{style:{color:"#FFFCEC"}})})}),Object(a.jsx)("div",{className:w.a.title,children:s.title}),Object(a.jsx)("div",{className:w.a.tagWrapper,children:Object(a.jsx)(F.a,{isMulti:!0,onChange:function(e,t){switch(t.action){case"select-option":console.log("select option!"),T.inputTag(m,g.uid,t.option.label),r(Object(h.a)(Object(h.a)({},n),{},{values:e}));break;case"remove-value":T.deleteTagFromArticle(m,g.uid,t.removedValue.tagId),r(Object(h.a)(Object(h.a)({},n),{},{values:e}));break;default:console.group("Value Changed"),console.log("newvalueis ",e),console.dir("action: ".concat(t.action)),console.dir(t.removedValue),console.groupEnd()}},onCreateOption:function(e){console.group("Option created"),console.log(n),T.inputTag(m,g.uid,e),r({options:[].concat(Object(j.a)(n.options),[{label:e,value:e}]),values:[].concat(Object(j.a)(n.values),[{label:e,value:e}])}),console.log(n),console.groupEnd()},options:n.options,defaultValue:n.values,value:n.values})}),Object(a.jsx)(x,{content:s.markDown,id:m})]})}n(487);function E(e){var t=Object(c.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(C.c)((function(e){return e.memberReducer.user}));return Object(a.jsxs)("div",{className:"addArticle",children:[Object(a.jsx)("input",{type:"text",name:"input",className:"input",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(a.jsx)("button",{type:"submit",className:"add",onClick:function(e){i&&(e.preventDefault(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{url:"www.sylish.com",uid:"12344"};fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}("http://localhost:3000/route/article/import",{url:r,uid:i.uid}))},children:"\u5132\u5b58\u6587\u7ae0"}),Object(a.jsx)("br",{})]})}n(382);var A=n(36),D=n.n(A),U=n(230),W=n.n(U);function L(){var e={callbacks:{signInSuccess:function(){var e=Object(N.a)(y.a.mark((function e(n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.uid),console.log(a),e.next=4,b.collection("Member").doc(n.uid).set({uid:n.uid,email:n.email,displaynamename:n.displayName}).then((function(){return console.log("Add user to db successfully")})).then(t.push("board")).catch((function(e){e.code;var t=e.message;console.log(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},signInFlow:"popup",signInOptions:[s.a.auth.GoogleAuthProvider.PROVIDER_ID]},t=Object(l.f)(),n=Object(c.useState)(""),r=Object(p.a)(n,2),o=r[0],i=r[1],u=Object(c.useState)(""),j=Object(p.a)(u,2),h=j[0],m=j[1],g=Object(c.useState)(""),O=Object(p.a)(g,2),S=O[0],x=O[1];return Object(a.jsx)("div",{className:D.a.wrapper,children:Object(a.jsxs)("div",{className:D.a.block,children:[Object(a.jsx)("h2",{className:D.a.title,children:"Sign Up"}),Object(a.jsxs)("form",{className:D.a.form,onSubmit:function(e){e.preventDefault(),function(e,n,a){d.createUserWithEmailAndPassword(n,a).then((function(t){console.log(t.user),b.collection("Member").doc(t.user.uid).set({displaynamename:e,email:n,password:a,uid:t.user.uid})})).then((function(){d.currentUser.updateProfile({displayName:e}).then((function(){return console.log("update user name successfully")}))})).then(t.push("/board")).catch((function(e){e.code;var t=e.message;console.log(t)}))}(o,h,S)},children:[Object(a.jsxs)("div",{className:D.a.inputbox,children:[Object(a.jsx)("label",{htmlFor:"username",children:"User Name"}),Object(a.jsx)("input",{type:"text",name:"username",value:o,onChange:function(e){i(e.currentTarget.value)}})]}),Object(a.jsxs)("div",{className:D.a.inputbox,children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",name:"email",value:h,onChange:function(e){m(e.currentTarget.value)}})]}),Object(a.jsxs)("div",{className:D.a.inputbox,children:[Object(a.jsx)("label",{htmlFor:"email",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"passowrd",value:S,onChange:function(e){x(e.currentTarget.value)}})]}),Object(a.jsx)("button",{children:"Sign Up"})]}),Object(a.jsx)(W.a,{uiConfig:e,firebaseAuth:d}),Object(a.jsxs)("div",{className:D.a.login,children:[Object(a.jsx)("span",{children:"Already have an account? "}),Object(a.jsx)(f.b,{to:"/Signin",children:"Sign in"})]})]})})}var M=n(65);function P(){var e,t=Object(c.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(""),s=Object(p.a)(i,2),u=s[0],b=s[1],f=Object(l.f)();return Object(a.jsx)("div",{className:D.a.wrapper,children:Object(a.jsxs)("div",(e={className:"block"},Object(M.a)(e,"className",D.a.block),Object(M.a)(e,"children",[Object(a.jsx)("h2",{className:D.a.title,children:"Sign In"}),Object(a.jsxs)("form",{className:D.a.form,onSubmit:function(e){e.preventDefault(),function(e,t){d.signInWithEmailAndPassword(e,t).then((function(e){console.log("you click sign in and successfully"),f.push("/board")})).catch((function(e){var t=e.code,n=e.message;console.log(t),console.log(n)}))}(r,u)},children:[Object(a.jsxs)("div",{className:D.a.inputbox,children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"text",name:"email",value:r,onChange:function(e){o(e.currentTarget.value)}})]}),Object(a.jsxs)("div",{className:D.a.inputbox,children:[Object(a.jsx)("label",{htmlFor:"email",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"passowrd",value:u,onChange:function(e){b(e.currentTarget.value)}})]}),Object(a.jsx)("button",{children:"Sign In"})]})]),e))})}var B=n(66),V=n.n(B);function H(e){var t=document.createElement("div");t.innerHTML=e.htmlContent;var n=t.querySelector("img")?t.querySelector("img").src:null;return Object(a.jsxs)("div",{className:V.a.container,children:[Object(a.jsx)("button",{className:V.a.delete,onClick:function(){var t;t=e.id,console.log(t),b.collection("Articles").doc(t).delete().then(console.log("Document successfully deleted!")).catch((function(e){console.error("Error delete document: ",e)}))},children:"x"}),Object(a.jsx)(f.b,{to:"/article?id=".concat(e.id),children:Object(a.jsxs)("div",{className:V.a.card,children:[Object(a.jsx)("div",{className:V.a.color,children:Object(a.jsx)("img",{src:n,alt:"",className:V.a.img})}),Object(a.jsxs)("div",{className:V.a.wordWrapper,children:[Object(a.jsx)("div",{className:V.a.title,children:e.title}),Object(a.jsx)("div",{className:V.a.content,children:e.content})]})]})})]})}n(494);function G(){console.log("render once");var e=Object(C.c)((function(e){var t=[],n=e.articleReducer.articleList;if("all"===e.articleReducer.tagSelected)for(var c in n)t.push(Object(a.jsx)(H,{title:n[c].title,content:n[c].content,id:n[c].id,htmlContent:n[c].htmlContent},n[c].id));else if(e.articleReducer.tagSelected)for(var r in n)console.log(n),n[r].tags&&n[r].tags.includes(e.articleReducer.tagSelected)&&t.push(Object(a.jsx)(H,{title:n[r].title,content:n[r].content,id:n[r].id,htmlContent:n[r].htmlContent},n[r].id));return t}));return Object(a.jsx)("div",{className:"cardWrapper",children:e})}var z=function(e){return{type:"INITARTICLE",articleList:e}},Y=function(e){return{type:"SWITCHARTICLE",tagSelected:e}},q=function(e,t){return{type:"GETRSSRESPONSE",url:t,feed:e}},X=function(e){return console.log("hihi"),{type:"SWITCHRSS",ChannelRSSId:e}};function Q(e){var t=Object(C.b)(),n=Object(C.c)((function(e){return e.memberReducer.user}));return Object(c.useEffect)((function(){var e;n&&(e=n.uid,b.collection("Articles").where("uid","==",e).onSnapshot((function(e){var n=[];e.forEach((function(e){n.push({title:e.data().title,content:e.data().markDown.slice(0,100),id:e.data().id,tags:e.data().tags,htmlContent:e.data().readerHtml})})),t(z(n))})))}),[n]),Object(a.jsxs)("div",{children:[Object(a.jsx)(E,{className:"headMemberIcon",user:n}),Object(a.jsx)(G,{})]})}n(495);function K(){var e=Object(C.b)(),t=Object(l.f)();return Object(c.useEffect)((function(){d.onAuthStateChanged((function(n){var a,c,r;n?(console.log(n),e((a=n.uid,c=n.displayName,r=n.email,{type:"SETMEMBER",uid:a,displayName:c,email:r}))):t.push("/signup")}))}),[e,t]),Object(a.jsx)("div",{})}var Z=n(23),J=n.n(Z),$=n(746),ee=n(748),te=n(145),ne=n.n(te),ae=n(146),ce=n.n(ae),re=n(747),oe=n(231),ie=n.n(oe),se=n(121),le=n.n(se),ue=n(101),de=n.n(ue);function be(e){var t=Object(c.useState)([]),n=Object(p.a)(t,2),r=(n[0],n[1],Object(C.b)());e.user;var o=function(e){var t=[];if(e.length>0){var n=function(n){t.push(Object(a.jsx)(re.a,{nodeId:e[n].id,label:Object(a.jsxs)("div",{className:J.a.labelWrapper,children:[Object(a.jsx)(de.a,{style:{fontSize:20}}),Object(a.jsx)("div",{className:J.a.labelTitle,children:e[n].title})]}),onClick:function(){console.log(e[n].id),r(X(e[n].id))}},e[n].id))};for(var c in e)n(c)}return t}(e.folderRSS);return Object(a.jsx)("div",{children:o})}var fe=Object($.a)({root:{color:"#B5B5B5",flexGrow:10,maxWidth:220,marginBottom:"10px"}});function je(){var e=fe(),t=Object(C.b)(),n=Object(c.useState)([]),r=Object(p.a)(n,2),o=r[0],i=r[1];var s=Object(C.c)((function(e){return e.memberReducer.user})),l=Object(C.c)((function(e){return e.RSSReducer.UserRSSList}));Object(c.useEffect)((function(){}),[l]),Object(c.useEffect)((function(){var e;s&&(e=s.uid,b.collection("Member").doc(e).get().then((function(e){t({type:"INITUSERRSSLIST",RSSList:e.data().subscribedRSS})}))),s&&T.getMemberRSSFolders(s.uid).then((function(e){return i(e),e})).then((function(e){e.forEach(function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.RSSIds){e.next=3;break}return e.next=3,t.RSSIds.forEach(function(){var e=Object(N.a)(y.a.mark((function e(n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getRSSInfo(n);case 2:a=e.sent,t.RSS.push(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i(e)}))}),[s]);var u=function(e){var t=[];if(e.length>0)for(var n in e)t.push(Object(a.jsx)(re.a,{nodeId:e[n].id,label:Object(a.jsxs)("div",{className:J.a.labelWrapper,children:[Object(a.jsx)(le.a,{style:{fontSize:20}}),Object(a.jsx)("div",{className:J.a.labelTitle,children:e[n].name})]}),onClick:function(){},children:Object(a.jsx)(be,{user:s,folderId:e[n].id,folderRSS:e[n].RSS})},e[n].id));return t}(o);return Object(a.jsx)("div",{className:J.a.folderTabWrapper,children:Object(a.jsxs)("div",{className:J.a.folderTab,children:[Object(a.jsxs)(f.b,{to:"/rss",children:[Object(a.jsx)("div",{className:J.a.sectionTitle,children:"RSS"}),Object(a.jsxs)(ee.a,{className:e.root,defaultExpanded:[""],defaultCollapseIcon:Object(a.jsx)(ne.a,{}),defaultExpandIcon:Object(a.jsx)(ce.a,{}),children:[Object(a.jsx)(re.a,{nodeId:"tagAll",label:Object(a.jsx)("div",{className:J.a.labelWrapper,children:Object(a.jsx)("div",{className:J.a.labelTitle,children:"All Feeds"})}),onClick:function(){t(X("all"))}}),u]})]}),Object(a.jsx)(f.b,{to:"/rssexplore",children:Object(a.jsx)("div",{className:J.a.subTitle,children:"AddRSS"})})]})})}function he(e){var t=Object(c.useState)([]),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(C.b)(),s=e.user;Object(c.useEffect)((function(){s&&T.getMemberFolderTags(e.folderId).then((function(e){o(e)}))}),[s]);var l=function(e){var t=[];if(e.length>0){var n=function(n){t.push(Object(a.jsx)(re.a,{nodeId:e[n].id,label:Object(a.jsxs)("div",{className:J.a.labelWrapper,children:[Object(a.jsx)(de.a,{style:{fontSize:20,color:"#5B5B5B"}}),Object(a.jsx)("div",{className:J.a.labelTitle,children:e[n].label})]}),onClick:function(){console.log(e[n].id),i(Y(e[n].id))}},e[n].id))};for(var c in e)n(c)}return t}(r);return Object(a.jsx)("div",{children:l})}var pe=Object($.a)({root:{color:"#B5B5B5",flexGrow:1,maxWidth:400,marginBottom:"10px"}});function me(){var e=pe(),t=Object(C.b)(),n=Object(c.useState)(!1),r=Object(p.a)(n,2),i=r[0],s=r[1],l=Object(c.useState)([]),u=Object(p.a)(l,2),d=(u[0],u[1],Object(c.useState)([])),b=Object(p.a)(d,2),j=b[0],h=b[1],m=Object(C.c)((function(e){return e.memberReducer.user}));Object(c.useEffect)((function(){m&&T.getMemberArticleFolders(m.uid).then((function(e){h(e)}))}),[m]);var g=function(e){console.log(e);var t=[];if(e.length>0){var n=function(n){t.push(Object(a.jsx)(re.a,{nodeId:e[n].id,label:Object(a.jsxs)("div",{className:J.a.labelWrapper,children:[Object(a.jsx)(le.a,{style:{fontSize:20,color:"#5B5B5B"}}),Object(a.jsx)("div",{className:J.a.labelTitle,children:e[n].name})]}),onClick:function(){console.log(e[n].id)},children:Object(a.jsx)(he,{user:m,folderId:e[n].id})},e[n].id))};for(var c in e)n(c)}return t}(j);return Object(a.jsx)("div",{className:J.a.folderTabWrapper,children:Object(a.jsx)("div",{className:J.a.folderTab,children:Object(a.jsxs)(f.b,{to:"/board",children:[Object(a.jsx)("div",{className:J.a.sectionTitle,children:"Saved"}),Object(a.jsxs)(ee.a,{className:e.root,defaultExpanded:[""],defaultCollapseIcon:Object(a.jsx)(ne.a,{}),defaultExpandIcon:Object(a.jsx)(ce.a,{}),children:[Object(a.jsx)(re.a,{nodeId:"tagAll",label:Object(a.jsx)("div",{className:J.a.labelWrapper,children:Object(a.jsx)("div",{className:J.a.labelTitle,children:"All"})}),onClick:function(){console.log("all"),t(Y("all"))}}),Object(a.jsx)(re.a,{nodeId:"unTag",label:Object(a.jsxs)("div",{className:J.a.labelWrapper,children:[Object(a.jsx)(ie.a,{style:{fontSize:20,color:"#5B5B5B"}}),Object(a.jsx)("div",{className:J.a.labelTitle,children:"Untaged"})]})}),g]}),i?Object(o.createPortal)(Object(a.jsxs)("div",{className:J.a.popup,children:[Object(a.jsx)("div",{className:J.a.blur,onClick:function(){s(!1)}}),Object(a.jsxs)("div",{className:J.a.addFolder,children:[Object(a.jsx)("div",{children:"Add New Tag Folder"}),Object(a.jsxs)("form",{action:"",children:[Object(a.jsx)("input",{type:"text"}),Object(a.jsx)("button",{children:"Confirm "}),Object(a.jsx)("button",{onClick:function(){s(!1)},children:"Cancel"})]})]})]}),document.body):"",Object(a.jsx)("div",{className:J.a.subTitle,onClick:function(){s(!0)},children:"Add Folder"})]})})})}var ge=n(61);T.getGraphData=function(e){return new Promise(function(){var t=Object(N.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.getMemberTags(e);case 2:a=t.sent,console.log("2"),n(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},T.initGraphData=function(e){return new Promise((function(t){T.getGraphData(e).then((function(e){console.log(e);var t=[];return e.forEach((function(e){t.push({id:e.value,tagId:e.id})})),t})).then((function(e){t({nodes:e,links:[]})}))}))};var Oe=n(384),Se=n.n(Oe);function xe(){var e=Object(C.b)(),t=Object(C.c)((function(e){return e.memberReducer.user})),n=Object(c.useState)({}),o=Object(p.a)(n,2),i=o[0],s=o[1];var l=function(e,t){var n=r.a.useRef();return r.a.useEffect((function(){return console.log(n.current),e(ge.h(n.current)),function(){}}),t),n}((function(t){if(i.nodes){var n=i.links.map((function(e){return Object.create(e)})),a=i.nodes.map((function(e){return Object.create(e)})),c=ge.e(a).force("link",ge.c(n).id((function(e){return e.id}))).force("charge",ge.d().strength(-80).distanceMax([500])).force("center",ge.b(500,500)),r=t.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(n).join("line").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),o=t.append("g").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(a).join("g").call(function(e){return ge.a().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(c)),s=o.append("circle").attr("stroke-width",1.5).attr("r",5).attr("fill","#4F4F4F"),l=o.append("text").text((function(e){return e.id})).clone(!0).lower().attr("stroke-width",.5).attr("stroke","white").attr("fill","white").attr("id",(function(e){return e.tagId})).on("click",(function(t){console.log(t),console.log(t.target.id),e(Y(t.target.id))}));o.append("title").text((function(e){return e.id})),c.on("tick",(function(){r.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),s.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),l.attr("x",(function(e){return e.x+10})).attr("y",(function(e){return e.y}))}))}return t.node()}),[i]);return Object(c.useEffect)((function(){t&&(console.log(t),T.initGraphData(t.uid).then((function(e){s(e)})))}),[t]),Object(a.jsx)("div",{className:Se.a.graphWrapper,children:Object(a.jsxs)("svg",{ref:l,style:{height:1e3,width:"70%",marginRight:"0px",marginLeft:"0px"},children:[Object(a.jsx)("g",{className:"plot-area"}),Object(a.jsx)("g",{className:"x-axis"}),Object(a.jsx)("g",{className:"y-axis"})]})})}var ve=n(149),_e=n.n(ve),Re=n(148),we=n.n(Re),ke=n(147),ye=n.n(ke);n(235);var Ne=n(67),Te=n.n(Ne);function Fe(e){var t,n=document.createElement("div");return n.innerHTML=e.item.content,n.querySelector("img")&&(t=n.querySelector("img").src),Object(a.jsx)("div",{className:Te.a.container,onClick:e.onClick,children:Object(a.jsxs)("div",{className:Te.a.card,children:[Object(a.jsx)("div",{className:Te.a.color,children:Object(a.jsx)("img",{src:t,alt:"",className:Te.a.img})}),Object(a.jsxs)("div",{className:Te.a.wordWrapper,children:[Object(a.jsx)("div",{className:Te.a.title,children:e.item.title}),Object(a.jsx)("div",{className:Te.a.creator,children:e.item.creator}),Object(a.jsx)("div",{className:Te.a.content,children:e.item.contentSnippet})]})]})})}var Ce=n(30),Ie=n.n(Ce),Ee=n(152),Ae=n.n(Ee);function De(e){console.log("page rerender, props is ",e.item);var t=Object(c.useState)({}),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(l.g)().search;new URLSearchParams(i),Object(C.c)((function(e){return e.memberReducer.user}));return Object(c.useEffect)((function(){e.item?(console.log(e.item),o(e.item)):console.log("this is in else ...run")}),[e.item]),Object(a.jsxs)("div",{className:Ae.a.page,children:[Object(a.jsx)("div",{className:Ae.a.head,children:Object(a.jsx)(_.a,{style:{color:"#FFFCEC",cursor:"pointer"},onClick:e.onClick})}),Object(a.jsx)("div",{className:Ae.a.title,children:r.title}),Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:r.content}})]})}n(679);function Ue(e){var t=Object(c.useState)([]),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)({}),s=Object(p.a)(i,2),l=s[0],u=s[1],d=Object(c.useState)(0),f=Object(p.a)(d,2),h=f[0],m=f[1],g=Object(c.useState)(!1),O=Object(p.a)(g,2),S=O[0],x=O[1],v=Object(c.useState)(""),_=Object(p.a)(v,2),R=_[0],w=_[1],k=Object(c.useState)(""),F=Object(p.a)(k,2),I=F[0],E=F[1],A=(Object(c.useRef)(h),Object(C.b)(),Object(C.c)((function(e){return e.RSSReducer.UserRSSList})));Object(C.c)((function(e){return e.memberReducer.user}));var D,U=Object(C.c)((function(e){return e.RSSReducer.ChannelRSSId}));function W(){return(W=Object(N.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=10;break}return console.log(U),e.next=4,T.getRSSInfo(U);case 4:return n=e.sent,e.next=7,T.getChannelFeeds(U);case 7:t=e.sent,console.log(n,t),u({RSS:n,items:t});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){var e=function(){(document.body.scrollTop||document.documentElement.scrollTop)>document.documentElement.scrollHeight-document.documentElement.clientHeight-20&&(console.log("reach the bottom!",h),m(h+7))};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[h]),Object(c.useEffect)((function(){console.log(h),A&&function(e,t){console.log(e),0===t?(console.log("last visible equal zero!"),b.collection("RSSItem").orderBy("pubDate").where("RSSId","in",e).limit(15).get().then((function(e){console.log("batchfetch start");var t=Object(j.a)(r);e.forEach((function(e){t.push(e.data())})),E(e.docs[14]),console.log("finsih loop"),o(t),console.log("se set items as ",t)}))):I&&(console.log("else start, the last visible is",t),console.log(I),b.collection("RSSItem").orderBy("pubDate").startAfter(I).where("RSSId","in",e).limit(7).get().then((function(e){var t=Object(j.a)(r);e.forEach((function(e){console.log(e.data()),t.push(e.data())})),E(e.docs[6]),o(t)})))}(A,h)}),[A,h]),Object(c.useEffect)((function(){!function(){W.apply(this,arguments)}()}),[U]),"all"===U?(console.log("channel id is all"),console.log(r),D=function(e){if(e){var t=[],n=function(n){t.push(Object(a.jsx)(Fe,{item:e[n],onClick:function(t){x(!0),w(e[n])}}))};for(var c in e)n(c);return Object(a.jsxs)("div",{className:Ie.a.board,children:[Object(a.jsx)("h1",{className:Ie.a.title,children:"Your Daily Feeds"}),Object(a.jsx)("div",{className:Ie.a.content,children:"Dont scroll fb! Lets read feeds~"}),t]})}return Object(a.jsxs)("div",{className:Ie.a.board,children:[Object(a.jsx)("h1",{className:Ie.a.title,children:"Your Daily Feeds"}),Object(a.jsx)("div",{className:Ie.a.content,children:"You dont have any feed"}),Object(a.jsx)("div",{children:"You dont have any feed"})]})}(r)):U&&(D=function(){if(l.items){var e=function(){console.log(l);var e=l.items,t=l.RSS,n=[],c=function(t){console.log(e[t]),n.push(Object(a.jsx)(Fe,{item:e[t],onClick:function(n){console.log("hihi"),x(!0),w(e[t])}}))};for(var r in e)c(r);return{v:Object(a.jsxs)("div",{className:Ie.a.board,children:[Object(a.jsx)("h1",{className:Ie.a.title,children:t.title}),Object(a.jsx)("div",{className:Ie.a.content,dangerouslySetInnerHTML:{__html:t.description}}),n]})}}();if("object"===typeof e)return e.v}}());var L=function(e){return Object(a.jsx)(De,{item:e,onClick:function(){x(!1)}})}(R);return console.log(h),console.log(r),Object(a.jsxs)("div",{className:Ie.a.boardWrapper,onScroll:function(){alert("ewrwe"),console.log("you scroll")},children:[D,S?Object(a.jsxs)("div",{className:Ie.a.popup,children:[Object(a.jsx)("div",{className:Ie.a.blur,onClick:function(){x(!1)}}),L]}):""]})}var We=n(105),Le=n.n(We),Me=n(236);function Pe(e){var t=Object(c.useState)(""),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(C.b)(),s=Object(C.c)((function(e){return e.memberReducer.user}));return Object(a.jsxs)("div",{className:Le.a.addArticle,children:[Object(a.jsx)("div",{class:Le.a.addTitle,children:"Add new source to reach this world"}),Object(a.jsxs)("form",{className:Le.a.addForm,action:"",onSubmit:function(e){var t;e.preventDefault(),s&&(t=r,(new Me).parseURL("https://cors-anywhere.herokuapp.com/"+t,(function(e,n){if(e)throw(new Me).parseURL(t,(function(e,n){if(e)throw i(q(e));i(q(n,t))})),i(q(e));console.log(n),console.log(n.title),i(q(n,t)),n.items.forEach((function(e){console.log(e.title+":"+e.link)}))})))},children:[Object(a.jsx)("input",{type:"text",name:"input",className:Le.a.input,value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(a.jsx)("button",{type:"submit",className:Le.a.add,children:"\u641c\u5c0b"})]})]})}function Be(e){var t=Object(c.useState)(!1),n=Object(p.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(""),s=Object(p.a)(i,2),l=s[0],u=s[1],d=Object(C.b)();console.log("rerender");var f=Object(C.c)((function(e){return e.memberReducer.user}));var j=Object(C.c)((function(e){return console.log("hihi"),e.RSSReducer.ChannelRSSId}));console.log("rerender channelid is ",j);var h=Object(C.c)((function(e){return e.RSSReducer.feed})),m=Object(C.c)((function(e){return e.RSSReducer.url}));var g=function(e){return console.log("redner run again"),console.log(e),Object(a.jsx)(De,{item:e})}(l),O=function(e){var t=[],n=function(n){t.push(Object(a.jsx)(Fe,{item:e.items[n],onClick:function(t){console.log("hihi"),o(!0),u(e.items[n])}}))};for(var c in e.items)n(c);return Object(a.jsxs)("div",{className:Ie.a.board,children:[Object(a.jsx)("h1",{className:Ie.a.title,children:e.title}),Object(a.jsx)("div",{className:Ie.a.content,dangerouslySetInnerHTML:{__html:e.description}}),e.title?Object(a.jsx)("button",{className:Ie.a.subscribe_btn,onClick:function(){T.subscribeRSS(f.uid,e.title,m,e)},children:"Follow"}):"",t]})}(h);return Object(c.useEffect)((function(){var e;f&&(e=f.uid,b.collection("Articles").where("uid","==",e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push({title:e.data().title,content:e.data().markDown.slice(0,100),id:e.data().id,tags:e.data().tags})})),d(z(t))})))}),[f]),Object(a.jsxs)("div",{className:Ie.a.boardWrapper,children:[Object(a.jsx)(Pe,{className:"headMemberIcon",user:e.user}),O,r?Object(a.jsxs)("div",{className:Ie.a.popup,children:[Object(a.jsx)("button",{onClick:function(){o(!1)},children:"Close Page"}),g]}):""]})}var Ve=n(106),He=n.n(Ve),Ge=n.p+"static/media/logo.4f1ab45e.png",ze=n(386),Ye=n.n(ze),qe=n(385),Xe=n.n(qe);function Qe(){return Object(a.jsx)("div",{className:He.a.functionTabWrapper,children:Object(a.jsxs)("div",{className:He.a.functionTab,children:[Object(a.jsx)("div",{className:He.a.logoWrapper,children:Object(a.jsx)("img",{src:Ge,alt:"",width:"50px"})}),Object(a.jsxs)("div",{className:He.a.iconWrapper,children:[Object(a.jsx)(f.b,{to:"/board",children:Object(a.jsx)(ye.a,{fontSize:"large",style:{color:"#747474"}})}),Object(a.jsx)(f.b,{to:"/rss",children:Object(a.jsx)(Xe.a,{fontSize:"large",style:{color:"#747474"}})}),Object(a.jsx)(f.b,{to:"/graph",children:Object(a.jsx)(we.a,{fontSize:"large",style:{color:"#747474"}})}),Object(a.jsx)(f.b,{to:"/signup",children:Object(a.jsx)(_e.a,{fontSize:"large",style:{color:"#747474"}})})]}),Object(a.jsx)(Ye.a,{calssName:He.a.exit,style:{color:"#747474"},onClick:function(){d.signOut().then((function(){return console.log("user successfully sign out")})).catch((function(e){console.log(e)}))}})]})})}var Ke=function(){return Object(a.jsx)(f.a,{children:Object(a.jsxs)("div",{className:"App",onClick:function(){console.log("you click")},children:[Object(a.jsx)(K,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/signup",component:L}),Object(a.jsx)(l.a,{path:"/signin",component:P}),Object(a.jsx)(l.a,{path:"/board",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(me,{}),Object(a.jsx)(Q,{})]})}),Object(a.jsx)(l.a,{path:"/article",component:I}),Object(a.jsx)(l.a,{path:"/graph",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(Q,{}),Object(a.jsx)(xe,{})]})}),Object(a.jsx)(l.a,{path:"/rss",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(je,{}),Object(a.jsx)(Ue,{})]})}),Object(a.jsx)(l.a,{path:"/rssexplore",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(Qe,{}),Object(a.jsx)(je,{}),Object(a.jsx)(Be,{})]})}),Object(a.jsx)("h1",{className:"title",children:"Welcome to Taggy"})]})]})})},Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,750)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Je=n(83),$e=n(387),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tagSelected:"all",articleList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITARTICLE":return Object(h.a)(Object(h.a)({},e),{},{articleList:t.articleList});case"SWITCHARTICLE":return Object(h.a)(Object(h.a)({},e),{},{tagSelected:t.tagSelected});default:return e}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETMEMBER":return{user:{uid:t.uid,displayName:t.displayName,email:t.email}};default:return e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{feed:{},ChannelRSSId:"all"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETRSSRESPONSE":return Object(h.a)(Object(h.a)({},e),{},{feed:t.feed,url:t.url});case"SWITCHRSS":return Object(h.a)(Object(h.a)({},e),{},{ChannelRSSId:t.ChannelRSSId});case"INITUSERRSSLIST":return Object(h.a)(Object(h.a)({},e),{},{UserRSSList:t.RSSList});case"SETUSERALLFEEDS":return Object(h.a)(Object(h.a)({},e),{},{userAllFeeds:[].concat(Object(j.a)(e.userAllFeeds),[t.userAllFeeds])});default:return e}},at=Object(Je.combineReducers)({articleReducer:et,memberReducer:tt,RSSReducer:nt}),ct=Object(Je.createStore)(at,Object($e.composeWithDevTools)());i.a.render(Object(a.jsx)(C.a,{store:ct,children:Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Ke,{})})}),document.getElementById("root")),Ze()}},[[728,1,2]]]);
//# sourceMappingURL=main.6fcde835.chunk.js.map