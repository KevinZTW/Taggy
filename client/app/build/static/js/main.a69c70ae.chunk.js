(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{119:function(e,t,n){},142:function(e,t,n){e.exports={title:"Article_title__1Mrw9",head:"Article_head__31GUo",tagWrapper:"Article_tagWrapper__VZfHf",tag:"Article_tag__3LVVi",addTag:"Article_addTag__1oXdm"}},144:function(e,t,n){e.exports={addArticle:"FindRSS_addArticle__3_qks",input:"FindRSS_input__jhFPD",add:"FindRSS_add__1MrI6"}},224:function(e,t,n){e.exports={signOut:"Header_signOut__3E39S",header:"Header_header__3CDt1"}},226:function(e,t,n){e.exports={signOut:"RSSHeader_signOut__2rqQG",header:"RSSHeader_header__3_tX0"}},32:function(e,t,n){e.exports={wrapper:"SignUp_wrapper__2d3J1",block:"SignUp_block__1ink9",title:"SignUp_title__3MK8E",form:"SignUp_form__3fw2S",inputbox:"SignUp_inputbox__2Lfhs",login:"SignUp_login__2Tq4f"}},35:function(e,t,n){e.exports={folderTab:"FolderTab_folderTab__16C6M",sectionTitle:"FolderTab_sectionTitle__2NdNu",labelWrapper:"FolderTab_labelWrapper__1781X",labelTitle:"FolderTab_labelTitle__uK57g"}},378:function(e,t,n){e.exports={graphWrapper:"Graph_graphWrapper__3gKxa"}},439:function(e,t,n){},481:function(e,t,n){},488:function(e,t,n){},64:function(e,t,n){e.exports={container:"Card_container__2vSb6",card:"Card_card__3C6Cc",color:"Card_color__3S4k1",img:"Card_img__3vgPn",title:"Card_title__HprCG",content:"Card_content__3Nr22",wordWrapper:"Card_wordWrapper__1vPtQ",delete:"Card_delete__25V8_"}},679:function(e,t){},681:function(e,t){},706:function(e,t){},708:function(e,t){},721:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),o=n(18),i=n.n(o),s=(n(439),n(119),n(13)),l=(n(722),n(25)),u=(n(263),n(441),s.a.initializeApp({apiKey:"AIzaSyA4cFmihlY5pIDTssbGwk9YNfGEjRfEBh4",authDomain:"knowledge-base-tw.firebaseapp.com",databaseURL:"https://knowledge-base-tw.firebaseio.com",projectId:"knowledge-base-tw",storageBucket:"knowledge-base-tw.appspot.com",messagingSenderId:"786102856750",appId:"1:786102856750:web:6bf12efd1fefb24aca83bf",measurementId:"G-RBNFGWQ2WE"})),d=u.auth(),b=s.a.firestore();var j=n(21),f=n(227),g=n(42),h=n(23),p=n(217),m=n.n(p),O=n(368),x=(n(468),new O.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0}));function v(e){var t=Object(a.useState)(e.content),n=Object(h.a)(t,2),r=n[0],o=n[1];Object(a.useEffect)((function(){o(e.content)}),[e.content]);var i=Object(a.useState)("preview"),s=Object(h.a)(i,2),l=s[0],u=s[1];return Object(c.jsx)("div",{className:"container",children:Object(c.jsx)(m.a,{value:r,onChange:function(t){var n,c;o(t),n=e.id,c=t,b.collection("Articles").doc(n).update({markDown:c}).then(console.log("change article"))},selectedTab:l,onTabChange:u,generateMarkdownPreview:function(e){return Promise.resolve(x.makeHtml(e))}})})}var _=n(373),S=n.n(_),w=n(142),k=n.n(w),y=n(19),N=n.n(y),C=n(72),T=(n(470),{getMemberArticleFolders:function(e){return new Promise((function(t,n){b.collection("Member").doc(e).get().then(function(){var e=Object(C.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(N.a.mark((function e(){var c,a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.data().articleFolders,a=[],console.log(c),""===c||!c){e.next=12;break}e.t0=N.a.keys(c);case 5:if((e.t1=e.t0()).done){e.next=12;break}return r=e.t1.value,console.log(c[r]),e.next=10,b.collection("articleFolders").doc(c[r]).get().then((function(e){a.push({id:e.data().id,name:e.data().name,tags:e.data().tags})}));case 10:e.next=5;break;case 12:t(a);case 13:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("dont have this user");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},getMemberFolderTags:function(e){return new Promise((function(t,n){b.collection("articleFolders").doc(e).get().then(function(){var e=Object(C.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(N.a.mark((function e(){var c,a,r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.data().tags,a=[],console.log(c),""===c||!c){e.next=11;break}r=N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c[t]),e.next=3,b.collection("Tags").doc(c[t]).get().then((function(e){a.push({id:c[t],value:e.data().name,label:e.data().name})}));case 3:case"end":return e.stop()}}),e)})),e.t0=N.a.keys(c);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(r(o),"t2",9);case 9:e.next=6;break;case 11:t(a);case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},getArticleTags:function(e){return new Promise((function(t,n){b.collection("Articles").doc(e).get().then((function(e){var n=e.data().tags,c=[];if(n){var a=function(e){b.collection("Tags").doc(n[e]).get().then((function(t){console.log(t.data()),c.push({tagId:n[e],label:t.data().name,value:t.data().name})})),t(c)};for(var r in n)a(r)}else t("")}))}))},getMemberTags:function(e){return new Promise((function(t,n){b.collection("Member").doc(e).get().then(function(){var e=Object(C.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data()){e.next=4;break}return e.delegateYield(N.a.mark((function e(){var c,a,r,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.data().tags,a=[],console.log(c),""===c||!c){e.next=11;break}r=N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c[t]),e.next=3,b.collection("Tags").doc(c[t]).get().then((function(e){a.push({id:c[t],value:e.data().name,label:e.data().name})}));case 3:case"end":return e.stop()}}),e)})),e.t0=N.a.keys(c);case 6:if((e.t1=e.t0()).done){e.next=11;break}return o=e.t1.value,e.delegateYield(r(o),"t2",9);case 9:e.next=6;break;case 11:console.log(a),t(a);case 13:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:t("");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}});T.initArticleTags=function(){var e=Object(C.a)(N.a.mark((function e(t,n){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},e.next=3,T.getArticleTags(t).then((function(e){c.values=e}));case 3:return e.next=5,T.getMemberTags(n).then((function(e){c.options=e}));case 5:return console.log(c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T.checkTagUnderUser=function(e,t){return new Promise((function(n,c){b.collection("Member").doc(t).get().then(function(){var c=Object(C.a)(N.a.mark((function c(a){var r,o;return N.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(console.log(t),!a.data()){c.next=18;break}if(r=a.data().tags,console.log(r),!r){c.next=15;break}c.t0=N.a.keys(r);case 6:if((c.t1=c.t0()).done){c.next=12;break}return o=c.t1.value,c.next=10,b.collection("Tags").doc(r[o]).get().then((function(t){t.data().name===e&&(console.log(t.data().name),console.log("resolve the id"),n(t.data().id))}));case 10:c.next=6;break;case 12:n("notExist"),c.next=16;break;case 15:n("noanytag");case 16:c.next=19;break;case 18:n("nothisuser");case 19:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())}))},T.inputTag=function(e,t,n){console.log(t),T.checkTagUnderUser(n,t).then((function(c){console.log(c),"noanytag"===c?b.collection("Tags").add({name:n,articles:[e]}).then((function(e){return console.log("Document written with ID: ",e.id),e.update({id:e.id}),e.id})).then((function(t){return b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(t)}),t})).then((function(e){b.collection("Member").doc(t).update({tags:[e]})})).catch((function(e){console.error("Error adding document: ",e)})):"notExist"===c?(console.log("user dont have this tag, CREAT AND ADD to ARTICLE"),b.collection("Tags").add({name:n,articles:[e]}).then((function(e){return console.log("Document written with ID: ",e.id),e.update({id:e.id}),e.id})).then((function(t){return b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(t)}),t})).then((function(e){return b.collection("Member").doc(t).update({tags:s.a.firestore.FieldValue.arrayUnion(e)}),e})).then((function(e){console.log("tag add to :","un"+t,"value is",e),b.collection("articleFolders").doc("un"+t).update({tags:s.a.firestore.FieldValue.arrayUnion(e)})})).catch((function(e){console.error("Error adding document: ",e)}))):(console.log("user already has this tag, ADD ATICLE"),b.collection("Tags").doc(c).update({articles:s.a.firestore.FieldValue.arrayUnion(e)}),b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayUnion(c)}))}))},T.deleteTagFromArticle=function(e,t,n){b.collection("Articles").doc(e).update({tags:s.a.firestore.FieldValue.arrayRemove(n)})};var F=n(381),R=n(20);function E(){var e=Object(a.useState)({}),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)({}),i=Object(h.a)(o,2),s=i[0],u=i[1],d=Object(l.g)().search,p=new URLSearchParams(d).get("id"),m=Object(R.c)((function(e){return e.memberReducer.user}));return Object(a.useEffect)((function(){m&&(console.log("useeffect run"),T.initArticleTags(p,m.uid).then((function(e){console.log(e),r(e)})))}),[m]),Object(a.useEffect)((function(){b.collection("Articles").doc(p).onSnapshot((function(e){u({title:e.data().title,markDown:e.data().markDown})}))}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:k.a.head,children:Object(c.jsx)(j.b,{to:"/board",children:Object(c.jsx)(S.a,{style:{color:"#FFFCEC"}})})}),Object(c.jsx)("div",{className:k.a.title,children:s.title}),Object(c.jsx)("div",{className:k.a.tagWrapper,children:Object(c.jsx)(F.a,{isMulti:!0,onChange:function(e,t){switch(t.action){case"select-option":console.log("select option!"),T.inputTag(p,m.uid,t.option.label),r(Object(g.a)(Object(g.a)({},n),{},{values:e}));break;case"remove-value":T.deleteTagFromArticle(p,m.uid,t.removedValue.tagId),r(Object(g.a)(Object(g.a)({},n),{},{values:e}));break;default:console.group("Value Changed"),console.log("newvalueis ",e),console.dir("action: ".concat(t.action)),console.dir(t.removedValue),console.groupEnd()}},onCreateOption:function(e){console.group("Option created"),console.log(n),T.inputTag(p,m.uid,e),r({options:[].concat(Object(f.a)(n.options),[{label:e,value:e}]),values:[].concat(Object(f.a)(n.values),[{label:e,value:e}])}),console.log(n),console.groupEnd()},options:n.options,defaultValue:n.values,value:n.values})}),Object(c.jsx)(v,{content:s.markDown,id:p})]})}n(481);function A(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(R.c)((function(e){return e.memberReducer.user}));return Object(c.jsxs)("div",{className:"addArticle",children:[Object(c.jsx)("input",{type:"text",name:"input",className:"input",value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(c.jsx)("button",{type:"submit",className:"add",onClick:function(e){i&&(e.preventDefault(),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{url:"www.sylish.com",uid:"12344"};fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)}))}("http://localhost:3000/route/article/import",{url:r,uid:i.uid}))},children:"\u5132\u5b58\u6587\u7ae0"}),Object(c.jsx)("br",{})]})}var I=n(140),M=n.n(I),D=n(139),W=n.n(D),U=n(138),L=n.n(U),P=n(224),V=n.n(P);function H(e){return Object(c.jsxs)("header",{className:V.a.header,children:[Object(c.jsx)(A,{className:"headMemberIcon",user:e.user}),Object(c.jsx)("button",{class:V.a.signOut,onClick:function(){d.signOut().then((function(){return console.log("user successfully sign out")})).catch((function(e){console.log(e)}))},children:"Sign out"}),Object(c.jsx)(j.b,{to:"/board",children:Object(c.jsx)(L.a,{fontSize:"large",style:{color:"#FFFCEC"}})}),Object(c.jsx)(j.b,{to:"/graph",children:Object(c.jsx)(W.a,{fontSize:"large",style:{color:"#FFFCEC"}})}),Object(c.jsx)(j.b,{to:"/signup",children:Object(c.jsx)(M.a,{fontSize:"large",style:{color:"#FFFCEC"}})})]})}var G=n(32),z=n.n(G),q=n(219),B=n.n(q);function Y(){var e={callbacks:{signInSuccess:function(){var e=Object(C.a)(N.a.mark((function e(t,n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.uid),console.log(n),e.next=4,b.collection("Member").doc(t.uid).set({uid:t.uid,email:t.email,displaynamename:t.displayName}).then((function(){return console.log("Add user to db successfully")})).catch((function(e){e.code;var t=e.message;console.log(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},signInFlow:"popup",signInOptions:[s.a.auth.GoogleAuthProvider.PROVIDER_ID]},t=Object(l.f)(),n=Object(a.useState)(""),r=Object(h.a)(n,2),o=r[0],i=r[1],u=Object(a.useState)(""),f=Object(h.a)(u,2),g=f[0],p=f[1],m=Object(a.useState)(""),O=Object(h.a)(m,2),x=O[0],v=O[1];return Object(c.jsx)("div",{className:z.a.wrapper,children:Object(c.jsxs)("div",{className:z.a.block,children:[Object(c.jsx)("h2",{className:z.a.title,children:"Sign Up"}),Object(c.jsxs)("form",{className:z.a.form,onSubmit:function(e){e.preventDefault(),function(e,n,c){d.createUserWithEmailAndPassword(n,c).then((function(t){console.log(t.user),b.collection("Member").doc(t.user.uid).set({displaynamename:e,email:n,password:c,uid:t.user.uid})})).then((function(){d.currentUser.updateProfile({displayName:e}).then((function(){return console.log("update user name successfully")}))})).then(t.push("/board")).catch((function(e){e.code;var t=e.message;console.log(t)}))}(o,g,x)},children:[Object(c.jsxs)("div",{className:z.a.inputbox,children:[Object(c.jsx)("label",{htmlFor:"username",children:"User Name"}),Object(c.jsx)("input",{type:"text",name:"username",value:o,onChange:function(e){i(e.currentTarget.value)}})]}),Object(c.jsxs)("div",{className:z.a.inputbox,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",value:g,onChange:function(e){p(e.currentTarget.value)}})]}),Object(c.jsxs)("div",{className:z.a.inputbox,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"passowrd",value:x,onChange:function(e){v(e.currentTarget.value)}})]}),Object(c.jsx)("button",{children:"Sign Up"})]}),Object(c.jsx)(B.a,{uiConfig:e,firebaseAuth:d}),Object(c.jsxs)("div",{className:z.a.login,children:[Object(c.jsx)("span",{children:"Already have an account? "}),Object(c.jsx)(j.b,{to:"/Signin",children:"Sign in"})]})]})})}var X=n(63);function J(){var e,t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),s=Object(h.a)(i,2),u=s[0],b=s[1],j=Object(l.f)();return Object(c.jsx)("div",{className:z.a.wrapper,children:Object(c.jsxs)("div",(e={className:"block"},Object(X.a)(e,"className",z.a.block),Object(X.a)(e,"children",[Object(c.jsx)("h2",{className:z.a.title,children:"Sign In"}),Object(c.jsxs)("form",{className:z.a.form,onSubmit:function(e){e.preventDefault(),function(e,t){d.signInWithEmailAndPassword(e,t).then((function(e){console.log("you click sign in and successfully"),j.push("/board")})).catch((function(e){var t=e.code,n=e.message;console.log(t),console.log(n)}))}(r,u)},children:[Object(c.jsxs)("div",{className:z.a.inputbox,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",name:"email",value:r,onChange:function(e){o(e.currentTarget.value)}})]}),Object(c.jsxs)("div",{className:z.a.inputbox,children:[Object(c.jsx)("label",{htmlFor:"email",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"passowrd",value:u,onChange:function(e){b(e.currentTarget.value)}})]}),Object(c.jsx)("button",{children:"Sign In"})]})]),e))})}var K=n(64),Q=n.n(K);function Z(e){var t=document.createElement("div");console.log(e.htmlContent),t.innerHTML=e.htmlContent,console.log(t.querySelector("img"));var n=t.querySelector("img")?t.querySelector("img").src:null;return console.log(n),Object(c.jsxs)("div",{className:Q.a.container,children:[Object(c.jsx)("button",{className:Q.a.delete,onClick:function(){var t;t=e.id,console.log(t),b.collection("Articles").doc(t).delete().then(console.log("Document successfully deleted!")).catch((function(e){console.error("Error delete document: ",e)}))},children:"x"}),Object(c.jsx)(j.b,{to:"/article?id=".concat(e.id),children:Object(c.jsxs)("div",{className:Q.a.card,children:[Object(c.jsx)("div",{className:Q.a.color,children:Object(c.jsx)("img",{src:n,alt:"",className:Q.a.img})}),Object(c.jsxs)("div",{className:Q.a.wordWrapper,children:[Object(c.jsx)("div",{className:Q.a.title,children:e.title}),Object(c.jsx)("div",{className:Q.a.content,children:e.content})]})]})})]})}n(488);function $(){console.log("render once");var e=Object(R.c)((function(e){var t=[],n=e.articleReducer.articleList;if("all"===e.articleReducer.tagSelected)for(var a in n)t.push(Object(c.jsx)(Z,{title:n[a].title,content:n[a].content,id:n[a].id,htmlContent:n[a].htmlContent},n[a].id));else if(e.articleReducer.tagSelected)for(var r in n)console.log(n),n[r].tags&&n[r].tags.includes(e.articleReducer.tagSelected)&&t.push(Object(c.jsx)(Z,{title:n[r].title,content:n[r].content,id:n[r].id,htmlContent:n[r].htmlContent},n[r].id));return t}));return Object(c.jsx)("div",{className:"cardWrapper",children:e})}var ee=function(e){return{type:"INITARTICLE",articleList:e}},te=function(e){return{type:"SWITCHARTICLE",tagSelected:e}},ne=function(e){return{type:"GETRSSRESPONSE",feed:e}};function ce(e){var t=Object(R.b)(),n=Object(R.c)((function(e){return e.memberReducer.user}));return Object(a.useEffect)((function(){var e;n&&(e=n.uid,b.collection("Articles").where("uid","==",e).onSnapshot((function(e){var n=[];e.forEach((function(e){n.push({title:e.data().title,content:e.data().markDown.slice(0,100),id:e.data().id,tags:e.data().tags,htmlContent:e.data().readerHtml})})),t(ee(n))})))}),[n]),Object(c.jsx)("div",{children:Object(c.jsx)($,{})})}n(489);function ae(){var e=Object(R.b)(),t=Object(l.f)();return Object(a.useEffect)((function(){d.onAuthStateChanged((function(n){var c,a,r;n?(console.log(n),e((c=n.uid,a=n.displayName,r=n.email,{type:"SETMEMBER",uid:c,displayName:a,email:r}))):t.push("/signup")}))}),[e,t]),Object(c.jsx)("div",{})}var re=n(35),oe=n.n(re),ie=n(740),se=n(742),le=n(375),ue=n.n(le),de=n(376),be=n.n(de),je=n(741),fe=n(377),ge=n.n(fe),he=n(225),pe=n.n(he),me=n(220),Oe=n.n(me);function xe(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(R.b)(),s=e.user;Object(a.useEffect)((function(){s&&T.getMemberFolderTags(e.folderId).then((function(e){o(e)}))}),[s]);var l=function(e){var t=[];if(e.length>0){var n=function(n){t.push(Object(c.jsx)(je.a,{nodeId:e[n].id,label:Object(c.jsxs)("div",{className:oe.a.labelWrapper,children:[Object(c.jsx)(Oe.a,{style:{fontSize:20}}),Object(c.jsx)("div",{className:oe.a.labelTitle,children:e[n].label})]}),onClick:function(){console.log(e[n].id),i(te(e[n].id))}},e[n].id))};for(var a in e)n(a)}return t}(r);return Object(c.jsx)("div",{children:l})}var ve=Object(ie.a)({root:{color:"white",flexGrow:1,maxWidth:400,marginBottom:"10px"}});function _e(){var e=ve(),t=Object(R.b)(),n=Object(a.useState)([]),r=Object(h.a)(n,2),o=(r[0],r[1],Object(a.useState)([])),i=Object(h.a)(o,2),s=i[0],l=i[1],u=Object(R.c)((function(e){return e.memberReducer.user}));Object(a.useEffect)((function(){u&&T.getMemberArticleFolders(u.uid).then((function(e){l(e)}))}),[u]);var d=function(e){console.log(e);var t=[];if(e.length>0){var n=function(n){t.push(Object(c.jsx)(je.a,{nodeId:e[n].id,label:Object(c.jsxs)("div",{className:oe.a.labelWrapper,children:[Object(c.jsx)(pe.a,{style:{fontSize:20}}),Object(c.jsx)("div",{className:oe.a.labelTitle,children:e[n].name})]}),onClick:function(){console.log(e[n].id)},children:Object(c.jsx)(xe,{user:u,folderId:e[n].id})},e[n].id))};for(var a in e)n(a)}return t}(s);return Object(c.jsxs)("div",{className:oe.a.folderTab,children:[Object(c.jsx)("div",{className:oe.a.sectionTitle,children:"Saved"}),Object(c.jsxs)(se.a,{className:e.root,defaultExpanded:[""],defaultCollapseIcon:Object(c.jsx)(ue.a,{}),defaultExpandIcon:Object(c.jsx)(be.a,{}),children:[Object(c.jsx)(je.a,{nodeId:"tagAll",label:Object(c.jsx)("div",{className:oe.a.labelWrapper,children:Object(c.jsx)("div",{className:oe.a.labelTitle,children:"All"})}),onClick:function(){console.log("all"),t(te("all"))}}),Object(c.jsx)(je.a,{nodeId:"unTag",label:Object(c.jsxs)("div",{className:oe.a.labelWrapper,children:[Object(c.jsx)(ge.a,{style:{fontSize:20}}),Object(c.jsx)("div",{className:oe.a.labelTitle,children:"UnTag"})]})}),d]}),Object(c.jsx)("div",{className:oe.a.sectionTitle,children:"RSS"}),Object(c.jsx)(j.b,{to:"/findrss",children:Object(c.jsx)("div",{children:"FindRSS"})})]})}var Se=n(58),we={nodes:[{id:"React",group:1,tagId:12312},{id:"Redux",group:1},{id:"coffee",group:2},{id:"coffee1",group:2},{id:"coffee2",group:2},{id:"coffee3",group:2},{id:"coffee4",group:2},{id:"coffee5",group:2},{id:"coffee6",group:2}],links:[{source:"React",target:"coffee",value:"1",distance:50},{source:"React",target:"Redux",value:"100"},{source:"React",target:"coffee1",value:"1",distance:50},{source:"React",target:"coffee2",value:"1",distance:50},{source:"React",target:"coffee3",value:"1",distance:50},{source:"coffee2",target:"coffee4",value:"1",distance:50},{source:"coffee",target:"coffee5",value:"1",distance:50}]},ke=n(378),ye=n.n(ke);function Ne(){function e(){var e=Se.f(Se.g);return function(t){return e(t.group)}}var t=function(e,t){var n=r.a.useRef();return r.a.useEffect((function(){return console.log(n.current),e(Se.h(n.current)),function(){}}),t),n}((function(t){var n=we.links.map((function(e){return Object.create(e)})),c=we.nodes.map((function(e){return Object.create(e)})),a=Se.e(c).force("link",Se.c(n).id((function(e){return e.id}))).force("charge",Se.d().strength(-200).distanceMax([1e3])).force("center",Se.b(500,500)),r=t.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(n).join("line").attr("stroke-width",(function(e){return Math.sqrt(e.value)})),o=t.append("g").attr("stroke-linecap","round").attr("stroke-linejoin","round").selectAll("g").data(c).join("g").call(function(e){return Se.a().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}(a)),i=o.append("circle").attr("stroke-width",1.5).attr("r",5).attr("fill",e),s=o.append("text").text((function(e){return e.id})).clone(!0).lower().attr("stroke-width",.05).attr("stroke","white").attr("fill","white").attr("tagId",(function(e){return e.uid})).on("click",(function(e){console.log(e.target)}));return o.append("title").text((function(e){return e.id})),a.on("tick",(function(){r.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),i.attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})),s.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y}))})),t.node()}),[we.length]);return Object(c.jsx)("div",{className:ye.a.graphWrapper,children:Object(c.jsxs)("svg",{ref:t,style:{height:1e3,width:"70%",marginRight:"0px",marginLeft:"0px"},children:[Object(c.jsx)("g",{className:"plot-area"}),Object(c.jsx)("g",{className:"x-axis"}),Object(c.jsx)("g",{className:"y-axis"})]})})}var Ce=n(226),Te=n.n(Ce),Fe=n(144),Re=n.n(Fe),Ee=n(379);function Ae(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),r=n[0],o=n[1],i=Object(R.b)(),s=Object(R.c)((function(e){return e.memberReducer.user}));return Object(c.jsxs)("div",{className:Re.a.addArticle,children:[Object(c.jsx)("input",{type:"text",name:"input",className:Re.a.input,value:r,onChange:function(e){return o(e.currentTarget.value)}}),Object(c.jsx)("button",{type:"submit",className:Re.a.add,onClick:function(e){var t;s&&(e.preventDefault(),t=r,(new Ee).parseURL("https://cors-anywhere.herokuapp.com/"+t,(function(e,t){if(e)throw i(ne(e));console.log(t),console.log(t.title),i(ne(t)),t.items.forEach((function(e){console.log(e.title+":"+e.link)}))})))},children:"\u641c\u5c0bRSS"}),Object(c.jsx)("br",{})]})}function Ie(e){return Object(c.jsxs)("header",{className:Te.a.header,children:[Object(c.jsx)(Ae,{className:"headMemberIcon",user:e.user}),Object(c.jsx)("button",{class:Te.a.signOut,onClick:function(){d.signOut().then((function(){return console.log("user successfully sign out")})).catch((function(e){console.log(e)}))},children:"Sign out"}),Object(c.jsx)(j.b,{to:"/board",children:Object(c.jsx)(L.a,{fontSize:"large",style:{color:"#FFFCEC"}})}),Object(c.jsx)(j.b,{to:"/graph",children:Object(c.jsx)(W.a,{fontSize:"large",style:{color:"#FFFCEC"}})}),Object(c.jsx)(j.b,{to:"/signup",children:Object(c.jsx)(M.a,{fontSize:"large",style:{color:"#FFFCEC"}})})]})}var Me=n(73),De=n.n(Me);function We(e){var t,n=document.createElement("div");return n.innerHTML=e.item.content,n.querySelector("img")&&(t=n.querySelector("img").src),Object(c.jsx)("div",{className:De.a.container,children:Object(c.jsx)(j.b,{to:"/article?id=".concat(e.id),children:Object(c.jsxs)("div",{className:De.a.card,children:[Object(c.jsx)("div",{className:De.a.color,children:Object(c.jsx)("img",{src:t,alt:"",className:De.a.img})}),Object(c.jsxs)("div",{className:De.a.wordWrapper,children:[Object(c.jsx)("div",{className:De.a.title,children:e.item.title}),Object(c.jsxs)("div",{children:["by",e.item.creator]}),Object(c.jsx)("div",{className:De.a.content,children:e.item.contentSnippet})]})]})})})}function Ue(e){var t=Object(R.b)(),n=Object(R.c)((function(e){return e.memberReducer.user}));var r=function(e){var t=[];for(var n in e.items)t.push(Object(c.jsx)(We,{item:e.items[n]}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:e.title}),Object(c.jsx)("div",{children:e.description}),Object(c.jsx)("button",{children:"Subscribe"}),t]})}(Object(R.c)((function(e){return e.RSSReducer.feed})));return Object(a.useEffect)((function(){var e;n&&(e=n.uid,b.collection("Articles").where("uid","==",e).onSnapshot((function(e){var n=[];e.forEach((function(e){n.push({title:e.data().title,content:e.data().markDown.slice(0,100),id:e.data().id,tags:e.data().tags})})),t(ee(n))})))}),[n]),Object(c.jsx)("div",{children:r})}var Le=function(){return Object(c.jsx)(j.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/signup",component:Y}),Object(c.jsx)(l.a,{path:"/signin",component:J}),Object(c.jsxs)(l.a,{path:"/board",children:[Object(c.jsx)(H,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(_e,{}),Object(c.jsx)(ce,{})]})]}),Object(c.jsx)(l.a,{path:"/article",component:E}),Object(c.jsxs)(l.a,{path:"/graph",children:[Object(c.jsx)(H,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(ce,{}),Object(c.jsx)(Ne,{})]})]}),Object(c.jsxs)(l.a,{path:"/findrss",children:[Object(c.jsx)(Ie,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(_e,{}),Object(c.jsx)(Ue,{})]})]}),Object(c.jsx)("h1",{className:"title",children:"Welcome to Taggy"})]})]})})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,744)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},Ve=n(81),He=n(380),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tagSelected:"all",articleList:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITARTICLE":return Object(g.a)(Object(g.a)({},e),{},{articleList:t.articleList});case"SWITCHARTICLE":return Object(g.a)(Object(g.a)({},e),{},{tagSelected:t.tagSelected});default:return e}},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETMEMBER":return{user:{uid:t.uid,displayName:t.displayName,email:t.email}};default:return e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{feed:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETRSSRESPONSE":return Object(g.a)(Object(g.a)({},e),{},{feed:t.feed});default:return e}},Be=Object(Ve.combineReducers)({articleReducer:Ge,memberReducer:ze,RSSReducer:qe}),Ye=Object(Ve.createStore)(Be,Object(He.composeWithDevTools)());i.a.render(Object(c.jsx)(R.a,{store:Ye,children:Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Le,{})})}),document.getElementById("root")),Pe()},73:function(e,t,n){e.exports={container:"RSSCard_container__1w-D7",card:"RSSCard_card__39rjh",color:"RSSCard_color__29tbN",img:"RSSCard_img__3Fgy6",title:"RSSCard_title__2lXv2",content:"RSSCard_content__1mFFX",wordWrapper:"RSSCard_wordWrapper__3HcZP",delete:"RSSCard_delete__23NFO"}}},[[721,1,2]]]);
//# sourceMappingURL=main.a69c70ae.chunk.js.map